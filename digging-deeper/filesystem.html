<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <link rel="alternate" hreflang="zh-cn" href="https://goravel.dev/zh/digging-deeper/filesystem.html"><meta property="og:url" content="https://goravel.dev/digging-deeper/filesystem.html"><meta property="og:site_name" content="Goravel"><meta property="og:title" content="/digging-deeper/filesystem.html"><meta property="og:description" content="File Storage Introduction The Goravel provides simple drivers for working with local filesystems, Amazon S3, Aliyun OSS, Tencent COS, Minio and Cloudinary. Even better, switchin..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"File Storage","image":[""],"dateModified":null,"author":[]}</script><script crossorigin="anonymous" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4978322804450032"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-HJQNEG5H69"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HJQNEG5H69');</script><title>File Storage | Goravel</title><meta name="description" content="File Storage Introduction The Goravel provides simple drivers for working with local filesystems, Amazon S3, Aliyun OSS, Tencent COS, Minio and Cloudinary. Even better, switchin...">
    <link rel="preload" href="/assets/style-eGez3mya.css" as="style"><link rel="stylesheet" href="/assets/style-eGez3mya.css">
    <link rel="modulepreload" href="/assets/app-st-TiGai.js"><link rel="modulepreload" href="/assets/filesystem.html-PI2OOi8l.js">
    <link rel="prefetch" href="/assets/index.html-Q8dznksr.js" as="script"><link rel="prefetch" href="/assets/index.html-CYSdBYEh.js" as="script"><link rel="prefetch" href="/assets/facades.html-RAjxkB4X.js" as="script"><link rel="prefetch" href="/assets/request-lifecycle.html-DLVGcEO0.js" as="script"><link rel="prefetch" href="/assets/service-container.html-BFulE07z.js" as="script"><link rel="prefetch" href="/assets/service-providers.html-DlpET3Tl.js" as="script"><link rel="prefetch" href="/assets/index.html-vzsyWkfh.js" as="script"><link rel="prefetch" href="/assets/compile.html-DS5uTU0B.js" as="script"><link rel="prefetch" href="/assets/configuration.html-DcpEtyLv.js" as="script"><link rel="prefetch" href="/assets/directory-structure.html-hg6lVw4n.js" as="script"><link rel="prefetch" href="/assets/installation.html-Bzn1FOZL.js" as="script"><link rel="prefetch" href="/assets/index.html-Dy54p8kQ.js" as="script"><link rel="prefetch" href="/assets/artisan-console.html-DICaNJI3.js" as="script"><link rel="prefetch" href="/assets/cache.html-YKa6jWHx.js" as="script"><link rel="prefetch" href="/assets/color.html-YxeJKwoD.js" as="script"><link rel="prefetch" href="/assets/event.html-D0WFttKx.js" as="script"><link rel="prefetch" href="/assets/helpers.html-BZiRI4Sj.js" as="script"><link rel="prefetch" href="/assets/localization.html-C2JseuJk.js" as="script"><link rel="prefetch" href="/assets/mail.html-CUyZg2js.js" as="script"><link rel="prefetch" href="/assets/package-development.html-Dcm7ty5L.js" as="script"><link rel="prefetch" href="/assets/queues.html-S80jVhm2.js" as="script"><link rel="prefetch" href="/assets/strings.html-ClYMtKnK.js" as="script"><link rel="prefetch" href="/assets/task-scheduling.html-0j5WTThO.js" as="script"><link rel="prefetch" href="/assets/index.html-De8JziVa.js" as="script"><link rel="prefetch" href="/assets/factories.html-BHqnafm6.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-B2YsITza.js" as="script"><link rel="prefetch" href="/assets/migrations.html-CwNQyZV6.js" as="script"><link rel="prefetch" href="/assets/relationships.html-CrTAsawh.js" as="script"><link rel="prefetch" href="/assets/seeding.html-BDUDHAma.js" as="script"><link rel="prefetch" href="/assets/contributions.html-CiOm9n6S.js" as="script"><link rel="prefetch" href="/assets/packages.html-Befqjpam.js" as="script"><link rel="prefetch" href="/assets/privacy-policy.html-CADf6qH6.js" as="script"><link rel="prefetch" href="/assets/authentication.html-B9tZ_uKC.js" as="script"><link rel="prefetch" href="/assets/authorization.html-1xWrp-JS.js" as="script"><link rel="prefetch" href="/assets/encryption.html-C3vmq3Jx.js" as="script"><link rel="prefetch" href="/assets/hashing.html-DUELmij6.js" as="script"><link rel="prefetch" href="/assets/index.html-DsnV2vLz.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-BaETvz6N.js" as="script"><link rel="prefetch" href="/assets/mock.html-CMdZlLew.js" as="script"><link rel="prefetch" href="/assets/index.html-BxXl9gYE.js" as="script"><link rel="prefetch" href="/assets/controllers.html-IeqAGJag.js" as="script"><link rel="prefetch" href="/assets/grpc.html-BCkKsmwC.js" as="script"><link rel="prefetch" href="/assets/logging.html-DjhG96ub.js" as="script"><link rel="prefetch" href="/assets/middleware.html-BrlPFEKn.js" as="script"><link rel="prefetch" href="/assets/request.html-B14P0ExC.js" as="script"><link rel="prefetch" href="/assets/response.html-DqMbQEH5.js" as="script"><link rel="prefetch" href="/assets/routing.html-DiqET5RF.js" as="script"><link rel="prefetch" href="/assets/session.html-DPJKnAai.js" as="script"><link rel="prefetch" href="/assets/validation.html-DVK7FZ9h.js" as="script"><link rel="prefetch" href="/assets/views.html-Brkp6a2I.js" as="script"><link rel="prefetch" href="/assets/history.html-BZyOTSdU.js" as="script"><link rel="prefetch" href="/assets/v1.1.html-CjlqAsKj.js" as="script"><link rel="prefetch" href="/assets/v1.10.html-TosO7Bu0.js" as="script"><link rel="prefetch" href="/assets/v1.11.html-KC9Kv_Dz.js" as="script"><link rel="prefetch" href="/assets/v1.12.html-DMgYF-QR.js" as="script"><link rel="prefetch" href="/assets/v1.13.html-naq7_nmX.js" as="script"><link rel="prefetch" href="/assets/v1.14.html-D4vC1Jdr.js" as="script"><link rel="prefetch" href="/assets/v1.2.html-xutjmlXB.js" as="script"><link rel="prefetch" href="/assets/v1.3.html-BX2dMlv6.js" as="script"><link rel="prefetch" href="/assets/v1.4.html-DmCwH948.js" as="script"><link rel="prefetch" href="/assets/v1.5.html-DjlxeYea.js" as="script"><link rel="prefetch" href="/assets/v1.6.html-tZ_-MRaa.js" as="script"><link rel="prefetch" href="/assets/v1.7.html-QPUR0U2g.js" as="script"><link rel="prefetch" href="/assets/v1.8.html-BOuARk2C.js" as="script"><link rel="prefetch" href="/assets/v1.9.html-CcBDpbYM.js" as="script"><link rel="prefetch" href="/assets/index.html-D9Ql3uXO.js" as="script"><link rel="prefetch" href="/assets/index.html-BIgQQy5G.js" as="script"><link rel="prefetch" href="/assets/facades.html-BSbB6gY-.js" as="script"><link rel="prefetch" href="/assets/request-lifecycle.html-CvyPv42Q.js" as="script"><link rel="prefetch" href="/assets/service-container.html-CjhJKops.js" as="script"><link rel="prefetch" href="/assets/service-providers.html-B6IrqFvL.js" as="script"><link rel="prefetch" href="/assets/index.html-R6U6MbRH.js" as="script"><link rel="prefetch" href="/assets/artisan-console.html-D-xkt8ff.js" as="script"><link rel="prefetch" href="/assets/cache.html-D0-JNdSq.js" as="script"><link rel="prefetch" href="/assets/color.html-CMOtzRMK.js" as="script"><link rel="prefetch" href="/assets/event.html-WvagEOaj.js" as="script"><link rel="prefetch" href="/assets/filesystem.html-rxPsubEo.js" as="script"><link rel="prefetch" href="/assets/helpers.html-CUiZ3xzH.js" as="script"><link rel="prefetch" href="/assets/localization.html-CKaKfkTt.js" as="script"><link rel="prefetch" href="/assets/mail.html-lZyFUWEZ.js" as="script"><link rel="prefetch" href="/assets/package-development.html-C-TgJOrW.js" as="script"><link rel="prefetch" href="/assets/queues.html-CVYHaPaa.js" as="script"><link rel="prefetch" href="/assets/strings.html-C1DTJ6Pz.js" as="script"><link rel="prefetch" href="/assets/task-scheduling.html-CH9ryszY.js" as="script"><link rel="prefetch" href="/assets/index.html-CDVSs1Di.js" as="script"><link rel="prefetch" href="/assets/compile.html-CvfitVNa.js" as="script"><link rel="prefetch" href="/assets/configuration.html-Dry0iby8.js" as="script"><link rel="prefetch" href="/assets/directory-structure.html-Df-V_f_5.js" as="script"><link rel="prefetch" href="/assets/installation.html-B5GyMVhF.js" as="script"><link rel="prefetch" href="/assets/index.html-DG2jJXv5.js" as="script"><link rel="prefetch" href="/assets/factories.html-p-oUTija.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-BzMxF6yz.js" as="script"><link rel="prefetch" href="/assets/migrations.html-BcHkkGb1.js" as="script"><link rel="prefetch" href="/assets/relationships.html-C0vdUTr_.js" as="script"><link rel="prefetch" href="/assets/seeding.html-DESmiT9m.js" as="script"><link rel="prefetch" href="/assets/contributions.html-CfJpPm8g.js" as="script"><link rel="prefetch" href="/assets/packages.html-DZyDDp35.js" as="script"><link rel="prefetch" href="/assets/authentication.html-DRMB1xQg.js" as="script"><link rel="prefetch" href="/assets/authorization.html-6lVfkzrf.js" as="script"><link rel="prefetch" href="/assets/encryption.html-C2KVHVZ4.js" as="script"><link rel="prefetch" href="/assets/hashing.html-DZVcC0VC.js" as="script"><link rel="prefetch" href="/assets/index.html-D1331EvA.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-5pfpCv9p.js" as="script"><link rel="prefetch" href="/assets/mock.html-DnxMifH9.js" as="script"><link rel="prefetch" href="/assets/index.html-u6dbj7bZ.js" as="script"><link rel="prefetch" href="/assets/controllers.html-C8oIqRV-.js" as="script"><link rel="prefetch" href="/assets/grpc.html-D8IbTjld.js" as="script"><link rel="prefetch" href="/assets/logging.html-CoSIjLmM.js" as="script"><link rel="prefetch" href="/assets/middleware.html-CbFt7lqo.js" as="script"><link rel="prefetch" href="/assets/request.html-BX-54zym.js" as="script"><link rel="prefetch" href="/assets/response.html-D8SD0uC0.js" as="script"><link rel="prefetch" href="/assets/routing.html-3yylfxga.js" as="script"><link rel="prefetch" href="/assets/session.html-Ct-0tHDf.js" as="script"><link rel="prefetch" href="/assets/validation.html-BlQ_mTKh.js" as="script"><link rel="prefetch" href="/assets/views.html-Bij9fh5n.js" as="script"><link rel="prefetch" href="/assets/history.html-B8V0PB-5.js" as="script"><link rel="prefetch" href="/assets/v1.1.html-B0X5a0Ck.js" as="script"><link rel="prefetch" href="/assets/v1.10.html-DvU3LFG3.js" as="script"><link rel="prefetch" href="/assets/v1.11.html-u6Adnv8O.js" as="script"><link rel="prefetch" href="/assets/v1.12.html-BvgEI11m.js" as="script"><link rel="prefetch" href="/assets/v1.13.html-B5uPM2sM.js" as="script"><link rel="prefetch" href="/assets/v1.14.html-DzrH3klm.js" as="script"><link rel="prefetch" href="/assets/v1.2.html-6oc_i3QW.js" as="script"><link rel="prefetch" href="/assets/v1.3.html-DqZ_UyKG.js" as="script"><link rel="prefetch" href="/assets/v1.4.html-DttPUNVF.js" as="script"><link rel="prefetch" href="/assets/v1.5.html-2JHfUfqB.js" as="script"><link rel="prefetch" href="/assets/v1.6.html-C0C_p2SU.js" as="script"><link rel="prefetch" href="/assets/v1.7.html-wmqgcb72.js" as="script"><link rel="prefetch" href="/assets/v1.8.html-mbrXGKlC.js" as="script"><link rel="prefetch" href="/assets/v1.9.html-DS-u4ol6.js" as="script"><link rel="prefetch" href="/assets/404.html-XcC0oJ14.js" as="script"><link rel="prefetch" href="/assets/SidebarTop-D5DbZaQ4.js" as="script"><link rel="prefetch" href="/assets/style-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/docsearch-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/index-zMbLkDvU.js" as="script"><link rel="prefetch" href="/assets/giscus--_FS5kYt.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="logo" src="/logo-mini.png" alt="Goravel"><span class="site-name can-hide" aria-hidden="true">Goravel</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--> Home <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://www.youtube.com/playlist?list=PL40Xne4u-oXJ0Z5uFiPWHqIMvzZaG_BDf" rel="noopener noreferrer" target="_blank" aria-label="Video"><!--[--><!--[--><!--]--> Video <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link route-link-active" href="/" aria-label="English"><!--[--><!--[--><!--]--> English <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/digging-deeper/filesystem.html" aria-label="简体中文"><!--[--><!--[--><!--]--> 简体中文 <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/goravel/goravel" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--> Home <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://www.youtube.com/playlist?list=PL40Xne4u-oXJ0Z5uFiPWHqIMvzZaG_BDf" rel="noopener noreferrer" target="_blank" aria-label="Video"><!--[--><!--[--><!--]--> Video <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link route-link-active" href="/" aria-label="English"><!--[--><!--[--><!--]--> English <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/digging-deeper/filesystem.html" aria-label="简体中文"><!--[--><!--[--><!--]--> 简体中文 <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/goravel/goravel" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--[--><div class="container" style="width:260px;margin:20px auto 0 auto;"><ins class="adsbygoogle" style="display:inline-block;width:260px;height:160px;" data-ad-client="ca-pub-4978322804450032" data-ad-slot="9393443865"></ins></div><!--]--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Prologue <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">Upgrade Guide <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/upgrade/v1.14.html" aria-label="Upgrading To v1.14 From v1.13"><!--[--><!--[--><!--]--> Upgrading To v1.14 From v1.13 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/upgrade/v1.13.html" aria-label="Upgrading To v1.13 From v1.12"><!--[--><!--[--><!--]--> Upgrading To v1.13 From v1.12 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/upgrade/history.html" aria-label="History Upgrade"><!--[--><!--[--><!--]--> History Upgrade <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/prologue/contributions.html" aria-label="Contribution Guide"><!--[--><!--[--><!--]--> Contribution Guide <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/prologue/packages.html" aria-label="Excellent Extend Packages"><!--[--><!--[--><!--]--> Excellent Extend Packages <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Getting Started <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/getting-started/installation.html" aria-label="Installation"><!--[--><!--[--><!--]--> Installation <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/getting-started/configuration.html" aria-label="Configuration"><!--[--><!--[--><!--]--> Configuration <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/getting-started/directory-structure.html" aria-label="Directory Structure"><!--[--><!--[--><!--]--> Directory Structure <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/getting-started/compile.html" aria-label="Compile"><!--[--><!--[--><!--]--> Compile <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Architecutre Concepts <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/architecutre-concepts/request-lifecycle.html" aria-label="Request Lifecycle"><!--[--><!--[--><!--]--> Request Lifecycle <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/architecutre-concepts/service-container.html" aria-label="Service Container"><!--[--><!--[--><!--]--> Service Container <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/architecutre-concepts/service-providers.html" aria-label="Service Providers"><!--[--><!--[--><!--]--> Service Providers <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/architecutre-concepts/facades.html" aria-label="Facades"><!--[--><!--[--><!--]--> Facades <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">The Basics <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/the-basics/routing.html" aria-label="Routing"><!--[--><!--[--><!--]--> Routing <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/middleware.html" aria-label="HTTP Middleware"><!--[--><!--[--><!--]--> HTTP Middleware <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/controllers.html" aria-label="Controllers"><!--[--><!--[--><!--]--> Controllers <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/request.html" aria-label="Requests"><!--[--><!--[--><!--]--> Requests <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/response.html" aria-label="Responses"><!--[--><!--[--><!--]--> Responses <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/views.html" aria-label="Views"><!--[--><!--[--><!--]--> Views <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/grpc.html" aria-label="Grpc"><!--[--><!--[--><!--]--> Grpc <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/session.html" aria-label="Session"><!--[--><!--[--><!--]--> Session <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/validation.html" aria-label="Validation"><!--[--><!--[--><!--]--> Validation <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/logging.html" aria-label="Logging"><!--[--><!--[--><!--]--> Logging <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Digging Deeper <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/digging-deeper/artisan-console.html" aria-label="Artisan Console"><!--[--><!--[--><!--]--> Artisan Console <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/cache.html" aria-label="Cache"><!--[--><!--[--><!--]--> Cache <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/event.html" aria-label="Events"><!--[--><!--[--><!--]--> Events <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active sidebar-item active" href="/digging-deeper/filesystem.html" aria-label="File Storage"><!--[--><!--[--><!--]--> File Storage <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/mail.html" aria-label="Mail"><!--[--><!--[--><!--]--> Mail <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/queues.html" aria-label="Queues"><!--[--><!--[--><!--]--> Queues <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/task-scheduling.html" aria-label="Task Scheduling"><!--[--><!--[--><!--]--> Task Scheduling <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/localization.html" aria-label="Localization"><!--[--><!--[--><!--]--> Localization <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/package-development.html" aria-label="Package Development"><!--[--><!--[--><!--]--> Package Development <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/color.html" aria-label="Color"><!--[--><!--[--><!--]--> Color <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/strings.html" aria-label="Strings"><!--[--><!--[--><!--]--> Strings <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/helpers.html" aria-label="Helpers"><!--[--><!--[--><!--]--> Helpers <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Security <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/security/authentication.html" aria-label="Authentication"><!--[--><!--[--><!--]--> Authentication <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/security/authorization.html" aria-label="Authorization"><!--[--><!--[--><!--]--> Authorization <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/security/encryption.html" aria-label="Encryption"><!--[--><!--[--><!--]--> Encryption <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/security/hashing.html" aria-label="Hashing"><!--[--><!--[--><!--]--> Hashing <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">ORM <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/orm/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--> Getting Started <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/orm/relationships.html" aria-label="Relationships"><!--[--><!--[--><!--]--> Relationships <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/orm/migrations.html" aria-label="Migrations"><!--[--><!--[--><!--]--> Migrations <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/orm/seeding.html" aria-label="Seeding"><!--[--><!--[--><!--]--> Seeding <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/orm/factories.html" aria-label="Factories"><!--[--><!--[--><!--]--> Factories <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Testing <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/testing/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--> Getting Started <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/testing/mock.html" aria-label="Mock"><!--[--><!--[--><!--]--> Mock <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="file-storage" tabindex="-1"><a class="header-anchor" href="#file-storage"><span>File Storage</span></a></h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/digging-deeper/filesystem.html#introduction" class="router-link-active router-link-exact-active">Introduction</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#configuration" class="router-link-active router-link-exact-active">Configuration</a><ul><li><a aria-current="page" href="/digging-deeper/filesystem.html#the-local-driver" class="router-link-active router-link-exact-active">The Local Driver</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#the-public-disk" class="router-link-active router-link-exact-active">The Public Disk</a></li></ul></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#obtaining-disk-instances" class="router-link-active router-link-exact-active">Obtaining Disk Instances</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#inject-context" class="router-link-active router-link-exact-active">Inject Context</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#retrieving-files" class="router-link-active router-link-exact-active">Retrieving Files</a><ul><li><a aria-current="page" href="/digging-deeper/filesystem.html#file-urls" class="router-link-active router-link-exact-active">File URLs</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#file-metadata" class="router-link-active router-link-exact-active">File Metadata</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#file-paths" class="router-link-active router-link-exact-active">File Paths</a></li></ul></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#storing-files" class="router-link-active router-link-exact-active">Storing Files</a><ul><li><a aria-current="page" href="/digging-deeper/filesystem.html#copying-moving-files" class="router-link-active router-link-exact-active">Copying &amp; Moving Files</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#file-uploads" class="router-link-active router-link-exact-active">File Uploads</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#specifying-a-file-name" class="router-link-active router-link-exact-active">Specifying A File Name</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#specifying-a-disk" class="router-link-active router-link-exact-active">Specifying A Disk</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#other-uploaded-file-information" class="router-link-active router-link-exact-active">Other Uploaded File Information</a></li></ul></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#deleting-files" class="router-link-active router-link-exact-active">Deleting Files</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#directories" class="router-link-active router-link-exact-active">Directories</a><ul><li><a aria-current="page" href="/digging-deeper/filesystem.html#get-all-files-within-a-directory" class="router-link-active router-link-exact-active">Get All Files Within A Directory</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#get-all-directories-within-a-directory" class="router-link-active router-link-exact-active">Get All Directories Within A Directory</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#create-a-directory" class="router-link-active router-link-exact-active">Create A Directory</a></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#delete-a-directory" class="router-link-active router-link-exact-active">Delete A Directory</a></li></ul></li><li><a aria-current="page" href="/digging-deeper/filesystem.html#custom-filesystems" class="router-link-active router-link-exact-active">Custom Filesystems</a></li></ul></nav><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p>The Goravel provides simple drivers for working with local filesystems, Amazon S3, Aliyun OSS, Tencent COS, Minio and Cloudinary. Even better, switching between these storage options between your local development machine and production server is amazingly simple as the API remains the same for each system. Goravel comes with a <code>local</code> driver, for other drivers, please check the corresponding independent extension package:</p><table><thead><tr><th>Driver</th><th>Link</th></tr></thead><tbody><tr><td>S3</td><td><a href="https://github.com/goravel/s3" target="_blank" rel="noopener noreferrer">https://github.com/goravel/s3<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>OSS</td><td><a href="https://github.com/goravel/oss" target="_blank" rel="noopener noreferrer">https://github.com/goravel/oss<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>COS</td><td><a href="https://github.com/goravel/cos" target="_blank" rel="noopener noreferrer">https://github.com/goravel/cos<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>Minio</td><td><a href="https://github.com/goravel/minio" target="_blank" rel="noopener noreferrer">https://github.com/goravel/minio<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>Cloudinary</td><td><a href="https://github.com/goravel/cloudinary" target="_blank" rel="noopener noreferrer">https://github.com/goravel/cloudinary<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><h2 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration"><span>Configuration</span></a></h2><p>Goravel&#39;s filesystem configuration file is located at <code>config/filesystems.go</code>. Within this file, you may configure all of your filesystem &quot;disks&quot;, each disk represents a particular storage driver and storage location.</p><blockquote><p>You may configure as many disks as you like and may even have multiple disks that use the same driver.</p></blockquote><h3 id="the-local-driver" tabindex="-1"><a class="header-anchor" href="#the-local-driver"><span>The Local Driver</span></a></h3><p>When using the <code>local</code> driver, all file operations are relative to the <code>root</code> directory defined in your <code>filesystems</code> configuration file. By default, this value is set to the <code>storage/app</code> directory. Therefore, the following method would write to <code>storage/app/example.txt</code>:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span><span class="token string">&quot;example.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Contents&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="the-public-disk" tabindex="-1"><a class="header-anchor" href="#the-public-disk"><span>The Public Disk</span></a></h3><p>The <code>public`` disk included in your application&#39;s </code>filesystems<code>configuration file is intended for files that are going to be publicly accessible. By default, the</code>public<code>disk uses the</code>local<code>driver and stores its files in</code>storage/app/public`. If you want to visit these file from web, you can create a file routing:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>facades<span class="token punctuation">.</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Static</span><span class="token punctuation">(</span><span class="token string">&quot;storage&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./storage/app/public&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="obtaining-disk-instances" tabindex="-1"><a class="header-anchor" href="#obtaining-disk-instances"><span>Obtaining Disk Instances</span></a></h2><p>The <code>Storage</code> facade may be used to interact with any of your configured disks. For example, you may use the <code>Put</code> method on the facade to store an avatar on the default disk. If you call methods on the <code>Storage</code> facade without first calling the <code>Disk</code> method, the method will automatically be passed to the default disk:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span><span class="token string">&quot;avatars/1.png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Contents&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If your application interacts with multiple disks, you may use the <code>Disk</code> method on the <code>Storage</code> facade to work with files on a particular disk:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Disk</span><span class="token punctuation">(</span><span class="token string">&quot;s3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span><span class="token string">&quot;avatars/1.png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Contents&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="inject-context" tabindex="-1"><a class="header-anchor" href="#inject-context"><span>Inject Context</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithContext</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span><span class="token string">&quot;avatars/1.png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Contents&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="retrieving-files" tabindex="-1"><a class="header-anchor" href="#retrieving-files"><span>Retrieving Files</span></a></h2><p>The <code>Get</code> method may be used to retrieve the contents of a file. The raw string contents of the file will be returned by the method. Remember, all file paths should be specified relative to the disk&#39;s <code>root</code> location:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>contents <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The <code>Exists</code> method may be used to determine if a file exists on the disk:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Disk</span><span class="token punctuation">(</span><span class="token string">&quot;s3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>Missing</code> method may be used to determine if a file is missing from the disk:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Disk</span><span class="token punctuation">(</span><span class="token string">&quot;s3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Missing</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="file-urls" tabindex="-1"><a class="header-anchor" href="#file-urls"><span>File URLs</span></a></h3><p>You may use the <code>Url</code> method to get the URL for a given file. If you are using the <code>local</code> driver, this will typically just prepend <code>/storage</code> to the given path and return a relative URL to the file. If you are using the <code>s3</code> driver, the fully qualified remote URL will be returned:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>url <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Url</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>When using the <code>local</code> driver, the return value of <code>Url</code> is not URL encoded. For this reason, we recommend always storing your files using names that will create valid URLs.</p></blockquote><h4 id="temporary-urls" tabindex="-1"><a class="header-anchor" href="#temporary-urls"><span>Temporary URLs</span></a></h4><p>Using the <code>TemporaryUrl</code> method, you may create temporary URLs to files stored using the Non-local driver. This method accepts a path and a <code>Time</code> instance specifying when the URL should expire:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>url<span class="token punctuation">,</span> err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">TemporaryUrl</span><span class="token punctuation">(</span>
    <span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>time<span class="token punctuation">.</span>Minute<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="file-metadata" tabindex="-1"><a class="header-anchor" href="#file-metadata"><span>File Metadata</span></a></h3><p>In addition to reading and writing files, Goravel can also provide information about the files themselves:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>size <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Size</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The <code>LastModified</code> method returns the last modified time of the file:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>time<span class="token punctuation">,</span> err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">LastModified</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The MIME type of a given file may be obtained via the <code>MimeType</code> method:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>mime<span class="token punctuation">,</span> err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">MimeType</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Also can use the <code>NewFile</code> method:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/goravel/framework/filesystem&quot;</span>

file<span class="token punctuation">,</span> err <span class="token operator">:=</span> filesystem<span class="token punctuation">.</span><span class="token function">NewFile</span><span class="token punctuation">(</span><span class="token string">&quot;./logo.png&quot;</span><span class="token punctuation">)</span>
size<span class="token punctuation">,</span> err <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">Size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
lastModified<span class="token punctuation">,</span> err <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">LastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
mime<span class="token punctuation">,</span> err <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">MimeType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="file-paths" tabindex="-1"><a class="header-anchor" href="#file-paths"><span>File Paths</span></a></h3><p>To obtain the path for a specific file, you can utilize the <code>Path</code> method. When using the <code>local</code> driver, this will provide you with the absolute path to the file. However, if you are using a driver like <code>s3</code>, the method will give you the file&#39;s relative path within the bucket:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>path <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Path</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="storing-files" tabindex="-1"><a class="header-anchor" href="#storing-files"><span>Storing Files</span></a></h2><p>The <code>Put</code> method may be used to store file contents on a disk. Remember, all file paths should be specified relative to the &quot;root&quot; location configured for the disk:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">,</span> contents<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You can also use <code>PutFile</code> and <code>PutFileAs</code> to save files directly on disk:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/goravel/framework/filesystem&quot;</span>

<span class="token comment">// Automatically generate a unique ID for filename...</span>
file<span class="token punctuation">,</span> err <span class="token operator">:=</span> filesystem<span class="token punctuation">.</span><span class="token function">NewFile</span><span class="token punctuation">(</span><span class="token string">&quot;./logo.png&quot;</span><span class="token punctuation">)</span>
path <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">PutFile</span><span class="token punctuation">(</span><span class="token string">&quot;photos&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span>

<span class="token comment">// Manually specify a filename...</span>
file<span class="token punctuation">,</span> err <span class="token operator">:=</span> filesystem<span class="token punctuation">.</span><span class="token function">NewFile</span><span class="token punctuation">(</span><span class="token string">&quot;./logo.png&quot;</span><span class="token punctuation">)</span>
path <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">PutFileAs</span><span class="token punctuation">(</span><span class="token string">&quot;photos&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">,</span> <span class="token string">&quot;photo.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There are a few important things to note about the <code>PutFile</code> method. Note that we only specified a directory name and not a filename. By default, the <code>PutFile</code> method will generate a unique ID to serve as the filename. The file&#39;s extension will be determined by examining the file&#39;s MIME type. The path to the file will be returned by the <code>PutFile</code> method so you can store the path, including the generated filename, in your database.</p><h3 id="copying-moving-files" tabindex="-1"><a class="header-anchor" href="#copying-moving-files"><span>Copying &amp; Moving Files</span></a></h3><p>The <code>Copy</code> method may be used to copy an existing file to a new location on the disk, while the <code>Move</code> method may be used to rename or move an existing file to a new location:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Copy</span><span class="token punctuation">(</span><span class="token string">&quot;old/file.jpg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;new/file.jpg&quot;</span><span class="token punctuation">)</span>

err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Move</span><span class="token punctuation">(</span><span class="token string">&quot;old/file.jpg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;new/file.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="file-uploads" tabindex="-1"><a class="header-anchor" href="#file-uploads"><span>File Uploads</span></a></h3><p>In web applications, one of the most common use cases for storing files is storing user-uploaded files such as photos and documents. Goravel makes it very easy to store uploaded files using the <code>Store</code> method on an uploaded file instance. Call the <code>Store</code> method with the path at which you wish to store the uploaded file:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>UserController<span class="token punctuation">)</span> <span class="token function">Show</span><span class="token punctuation">(</span>ctx http<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  file<span class="token punctuation">,</span> err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;avatar&quot;</span><span class="token punctuation">)</span>
  path<span class="token punctuation">,</span> err <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token string">&quot;avatars&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There are a few important things to note about this example. Note that we only specified a directory name, not a filename. By default, the <code>Store</code> method will generate a unique ID to serve as the filename. The file&#39;s extension will be determined by examining the file&#39;s MIME type. The path to the file will be returned by the <code>Store</code> method so you can store the path, including the generated filename, in your database.</p><p>You may also call the <code>PutFile</code> method on the <code>Storage</code> facade to perform the same file storage operation as the example above:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/goravel/framework/filesystem&quot;</span>

file<span class="token punctuation">,</span> err <span class="token operator">:=</span> filesystem<span class="token punctuation">.</span><span class="token function">NewFile</span><span class="token punctuation">(</span><span class="token string">&quot;./logo.png&quot;</span><span class="token punctuation">)</span>
path <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">PutFile</span><span class="token punctuation">(</span><span class="token string">&quot;photos&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="specifying-a-file-name" tabindex="-1"><a class="header-anchor" href="#specifying-a-file-name"><span>Specifying A File Name</span></a></h3><p>If you do not want a filename to be automatically assigned to your stored file, you may use the <code>StoreAs</code> method, which receives the path, the filename, and the (optional) disk as its arguments:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;avatar&quot;</span><span class="token punctuation">)</span>
path<span class="token punctuation">,</span> err <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">StoreAs</span><span class="token punctuation">(</span><span class="token string">&quot;avatars&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>You may also use the <code>PutFileAs</code> method on the Storage facade, which will perform the same file storage operation as the example above:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/goravel/framework/filesystem&quot;</span>

file<span class="token punctuation">,</span> err <span class="token operator">:=</span> filesystem<span class="token punctuation">.</span><span class="token function">NewFile</span><span class="token punctuation">(</span><span class="token string">&quot;./logo.png&quot;</span><span class="token punctuation">)</span>
path <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">PutFileAs</span><span class="token punctuation">(</span><span class="token string">&quot;photos&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>If the file name specified by <code>StoreAs</code> and <code>PutFileAs</code> doesn&#39;t have a suffix, the suffix is automatically added based on the MIME of the file; otherwise, the specified file name is used directly.</p></blockquote><h3 id="specifying-a-disk" tabindex="-1"><a class="header-anchor" href="#specifying-a-disk"><span>Specifying A Disk</span></a></h3><p>By default, this uploaded file&#39;s <code>Store</code> method will use your default disk. If you would like to specify another disk, please use the <code>Disk</code> method:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>UserController<span class="token punctuation">)</span> <span class="token function">Show</span><span class="token punctuation">(</span>ctx http<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  file<span class="token punctuation">,</span> err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;avatar&quot;</span><span class="token punctuation">)</span>
  path<span class="token punctuation">,</span> err <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">Disk</span><span class="token punctuation">(</span><span class="token string">&quot;s3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token string">&quot;avatars&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="other-uploaded-file-information" tabindex="-1"><a class="header-anchor" href="#other-uploaded-file-information"><span>Other Uploaded File Information</span></a></h3><p>If you would like to get the original name and extension of the uploaded file, you may do so using the <code>GetClientOriginalName</code> and <code>GetClientOriginalExtension</code> methods:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;avatar&quot;</span><span class="token punctuation">)</span>

name <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">GetClientOriginalName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
extension <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">GetClientOriginalExtension</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>However, keep in mind that the <code>GetClientOriginalName</code> and <code>GetClientOriginalExtension</code> methods are considered unsafe, as the file name and extension may be tampered with by a malicious user. For this reason, you should typically prefer the <code>HashName</code> and <code>Extension</code> methods to get a name and an extension for the given file upload:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;avatar&quot;</span><span class="token punctuation">)</span>

name <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">HashName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Generate a unique, random name...</span>
extension<span class="token punctuation">,</span> err <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">Extension</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Determine the file&#39;s extension based on the file&#39;s MIME type...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="deleting-files" tabindex="-1"><a class="header-anchor" href="#deleting-files"><span>Deleting Files</span></a></h2><p>The <code>Delete</code> method accepts a single filename or an array of files to delete:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">)</span>
err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;file2.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>If necessary, you may specify the disk that the file should be deleted from:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Disk</span><span class="token punctuation">(</span><span class="token string">&quot;s3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span><span class="token string">&quot;file.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="directories" tabindex="-1"><a class="header-anchor" href="#directories"><span>Directories</span></a></h2><h3 id="get-all-files-within-a-directory" tabindex="-1"><a class="header-anchor" href="#get-all-files-within-a-directory"><span>Get All Files Within A Directory</span></a></h3><p>The <code>Files</code> method returns a slice of all of the files in a given directory. If you would like to retrieve a list of all files within a given directory including all subdirectories, you may use the <code>AllFiles</code> method:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>files<span class="token punctuation">,</span> err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Disk</span><span class="token punctuation">(</span><span class="token string">&quot;s3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Files</span><span class="token punctuation">(</span><span class="token string">&quot;directory&quot;</span><span class="token punctuation">)</span>
files<span class="token punctuation">,</span> err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Disk</span><span class="token punctuation">(</span><span class="token string">&quot;s3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AllFiles</span><span class="token punctuation">(</span><span class="token string">&quot;directory&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="get-all-directories-within-a-directory" tabindex="-1"><a class="header-anchor" href="#get-all-directories-within-a-directory"><span>Get All Directories Within A Directory</span></a></h3><p>The <code>Directories</code> method returns a slice of all the directories within a given directory. Additionally, you may use the <code>AllDirectories</code> method to get a list of all directories within a given directory and all of its subdirectories:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>directories<span class="token punctuation">,</span> err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Disk</span><span class="token punctuation">(</span><span class="token string">&quot;s3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Directories</span><span class="token punctuation">(</span><span class="token string">&quot;directory&quot;</span><span class="token punctuation">)</span>
directories<span class="token punctuation">,</span> err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Disk</span><span class="token punctuation">(</span><span class="token string">&quot;s3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AllDirectories</span><span class="token punctuation">(</span><span class="token string">&quot;directory&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="create-a-directory" tabindex="-1"><a class="header-anchor" href="#create-a-directory"><span>Create A Directory</span></a></h3><p>The <code>MakeDirectory</code> method will create the given directory, including any needed subdirectories:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">MakeDirectory</span><span class="token punctuation">(</span>directory<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="delete-a-directory" tabindex="-1"><a class="header-anchor" href="#delete-a-directory"><span>Delete A Directory</span></a></h3><p>Finally, the <code>DeleteDirectory</code> method may be used to remove a directory and all of its files:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">DeleteDirectory</span><span class="token punctuation">(</span>directory<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="custom-filesystems" tabindex="-1"><a class="header-anchor" href="#custom-filesystems"><span>Custom Filesystems</span></a></h2><p>You can set the <code>custom</code> driver in the <code>config/filesystems.go</code> file.</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token string">&quot;custom&quot;</span><span class="token punctuation">:</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span>
  <span class="token string">&quot;driver&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;custom&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;via&quot;</span><span class="token punctuation">:</span>    filesystems<span class="token punctuation">.</span><span class="token function">NewLocal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You need to implement the <code>github.com/goravel/framework/contracts/filesystem/Driver</code> interface in the <code>via</code> configuration item.</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> Driver <span class="token keyword">interface</span> <span class="token punctuation">{</span>
  <span class="token function">AllDirectories</span><span class="token punctuation">(</span>path <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">AllFiles</span><span class="token punctuation">(</span>path <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">Copy</span><span class="token punctuation">(</span>oldFile<span class="token punctuation">,</span> newFile <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
  <span class="token function">Delete</span><span class="token punctuation">(</span>file <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
  <span class="token function">DeleteDirectory</span><span class="token punctuation">(</span>directory <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
  <span class="token function">Directories</span><span class="token punctuation">(</span>path <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">Exists</span><span class="token punctuation">(</span>file <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span>
  <span class="token function">Files</span><span class="token punctuation">(</span>path <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">Get</span><span class="token punctuation">(</span>file <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">GetBytes</span><span class="token punctuation">(</span>file <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">LastModified</span><span class="token punctuation">(</span>file <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>time<span class="token punctuation">.</span>Time<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">MakeDirectory</span><span class="token punctuation">(</span>directory <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
  <span class="token function">MimeType</span><span class="token punctuation">(</span>file <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">Missing</span><span class="token punctuation">(</span>file <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span>
  <span class="token function">Move</span><span class="token punctuation">(</span>oldFile<span class="token punctuation">,</span> newFile <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
  <span class="token function">Path</span><span class="token punctuation">(</span>file <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
  <span class="token function">Put</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> content <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
  <span class="token function">PutFile</span><span class="token punctuation">(</span>path <span class="token builtin">string</span><span class="token punctuation">,</span> source File<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">PutFileAs</span><span class="token punctuation">(</span>path <span class="token builtin">string</span><span class="token punctuation">,</span> source File<span class="token punctuation">,</span> name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">Size</span><span class="token punctuation">(</span>file <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int64</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">TemporaryUrl</span><span class="token punctuation">(</span>file <span class="token builtin">string</span><span class="token punctuation">,</span> time time<span class="token punctuation">.</span>Time<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
  <span class="token function">WithContext</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> Driver
  <span class="token function">Url</span><span class="token punctuation">(</span>file <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Note: Since the configuration has not been loaded when the custom driver is registered, so please use <code>facades.Config().Env</code> to obtain the configuration in the custom driver.</p></blockquote><div id="vp-comment" class="giscus-wrapper input-top" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="external-link label" href="https://github.com/goravel/goravel/edit/master/digging-deeper/filesystem.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--[--><svg class="icon" viewBox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-st-TiGai.js" defer></script>
  </body>
</html>
