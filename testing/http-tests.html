<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="alternate" hreflang="zh-cn" href="https://goravel.dev/zh/testing/http-tests.html"><meta property="og:url" content="https://goravel.dev/testing/http-tests.html"><meta property="og:site_name" content="Goravel"><meta property="og:title" content="/testing/http-tests.html"><meta property="og:description" content="HTTP Tests Introduction When building web applications, you'll often need to test if your HTTP requests work correctly from start to finish. Goravel's testing tools make this st..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"HTTP Tests","image":[""],"dateModified":null,"author":[]}</script><script crossorigin="anonymous" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4978322804450032"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-HJQNEG5H69"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HJQNEG5H69');</script><title>HTTP Tests | Goravel</title><meta name="description" content="HTTP Tests Introduction When building web applications, you'll often need to test if your HTTP requests work correctly from start to finish. Goravel's testing tools make this st...">
    <link rel="preload" href="/assets/style-CJRhg5TK.css" as="style"><link rel="stylesheet" href="/assets/style-CJRhg5TK.css">
    <link rel="modulepreload" href="/assets/app-CgAH1ugc.js"><link rel="modulepreload" href="/assets/http-tests.html-Cc04qa7j.js">
    <link rel="prefetch" href="/assets/index.html-Jomslfdn.js" as="script"><link rel="prefetch" href="/assets/index.html-CVPAxMR9.js" as="script"><link rel="prefetch" href="/assets/facades.html-D7WoS3Th.js" as="script"><link rel="prefetch" href="/assets/request-lifecycle.html-DU6AS6io.js" as="script"><link rel="prefetch" href="/assets/service-container.html-BXkb_agX.js" as="script"><link rel="prefetch" href="/assets/service-providers.html-BqXWkXVB.js" as="script"><link rel="prefetch" href="/assets/index.html-CqbK5WV_.js" as="script"><link rel="prefetch" href="/assets/artisan-console.html-BsesmnR4.js" as="script"><link rel="prefetch" href="/assets/cache.html-cibZmqF9.js" as="script"><link rel="prefetch" href="/assets/color.html-CFi6O1oQ.js" as="script"><link rel="prefetch" href="/assets/event.html-jd4eQB-l.js" as="script"><link rel="prefetch" href="/assets/filesystem.html-BckAvIaJ.js" as="script"><link rel="prefetch" href="/assets/helpers.html-CqRW9TUq.js" as="script"><link rel="prefetch" href="/assets/localization.html-Q93PzE1O.js" as="script"><link rel="prefetch" href="/assets/mail.html-Crg4FLh0.js" as="script"><link rel="prefetch" href="/assets/package-development.html-C-CAmFxD.js" as="script"><link rel="prefetch" href="/assets/queues.html-BQ0kRy5S.js" as="script"><link rel="prefetch" href="/assets/strings.html-BlAup0Oj.js" as="script"><link rel="prefetch" href="/assets/task-scheduling.html-C-38nRdX.js" as="script"><link rel="prefetch" href="/assets/index.html-1qNOZAFA.js" as="script"><link rel="prefetch" href="/assets/compile.html-B6Ba6E7e.js" as="script"><link rel="prefetch" href="/assets/configuration.html-D4PaZl_b.js" as="script"><link rel="prefetch" href="/assets/directory-structure.html-CUR2H54Q.js" as="script"><link rel="prefetch" href="/assets/installation.html-DhT8axlP.js" as="script"><link rel="prefetch" href="/assets/index.html-DIkqhmcu.js" as="script"><link rel="prefetch" href="/assets/factories.html-BEmswRiE.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-B3i4UzZG.js" as="script"><link rel="prefetch" href="/assets/migrations.html-per3CZPa.js" as="script"><link rel="prefetch" href="/assets/relationships.html-DeS9IT5h.js" as="script"><link rel="prefetch" href="/assets/seeding.html-CPjQwOvX.js" as="script"><link rel="prefetch" href="/assets/contributions.html-4tpsXm7N.js" as="script"><link rel="prefetch" href="/assets/packages.html-Cl7sc5nd.js" as="script"><link rel="prefetch" href="/assets/privacy-policy.html-CGZ8Qzrl.js" as="script"><link rel="prefetch" href="/assets/authentication.html-BQYQd6d1.js" as="script"><link rel="prefetch" href="/assets/authorization.html-CLpMjUkG.js" as="script"><link rel="prefetch" href="/assets/encryption.html-C9bv3tjX.js" as="script"><link rel="prefetch" href="/assets/hashing.html-y3W1JxwZ.js" as="script"><link rel="prefetch" href="/assets/index.html-Dp33rUpi.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-BSSeh5yv.js" as="script"><link rel="prefetch" href="/assets/mock.html-D5xNa15Q.js" as="script"><link rel="prefetch" href="/assets/index.html-CQeh74Mv.js" as="script"><link rel="prefetch" href="/assets/controllers.html-CQx5Cvkc.js" as="script"><link rel="prefetch" href="/assets/grpc.html-DLQTKo2Q.js" as="script"><link rel="prefetch" href="/assets/logging.html-CXZh7Fmd.js" as="script"><link rel="prefetch" href="/assets/middleware.html-gE8aP5Nh.js" as="script"><link rel="prefetch" href="/assets/request.html-C8vR3KKK.js" as="script"><link rel="prefetch" href="/assets/response.html-9bpXITXa.js" as="script"><link rel="prefetch" href="/assets/routing.html-BcagisLK.js" as="script"><link rel="prefetch" href="/assets/session.html-auSivNUC.js" as="script"><link rel="prefetch" href="/assets/validation.html-D8jDULAO.js" as="script"><link rel="prefetch" href="/assets/views.html-BtEipibr.js" as="script"><link rel="prefetch" href="/assets/history.html-ZcOa8G8W.js" as="script"><link rel="prefetch" href="/assets/v1.1.html-CTDRyIxO.js" as="script"><link rel="prefetch" href="/assets/v1.10.html-DYPwMSR2.js" as="script"><link rel="prefetch" href="/assets/v1.11.html-_ptroJ_R.js" as="script"><link rel="prefetch" href="/assets/v1.12.html-BmSjuqCz.js" as="script"><link rel="prefetch" href="/assets/v1.13.html-B0WXHMKI.js" as="script"><link rel="prefetch" href="/assets/v1.14.html-qCE4JwcD.js" as="script"><link rel="prefetch" href="/assets/v1.15.html-CkVJyGMX.js" as="script"><link rel="prefetch" href="/assets/v1.2.html-BJWp9upc.js" as="script"><link rel="prefetch" href="/assets/v1.3.html-CRJhp0ol.js" as="script"><link rel="prefetch" href="/assets/v1.4.html-CRt6PJq5.js" as="script"><link rel="prefetch" href="/assets/v1.5.html-BNRk_oYw.js" as="script"><link rel="prefetch" href="/assets/v1.6.html-B9_x1AXK.js" as="script"><link rel="prefetch" href="/assets/v1.7.html-BCKT820O.js" as="script"><link rel="prefetch" href="/assets/v1.8.html-DbSgO-Uv.js" as="script"><link rel="prefetch" href="/assets/v1.9.html-C2sRRAMp.js" as="script"><link rel="prefetch" href="/assets/index.html-BkrXcV74.js" as="script"><link rel="prefetch" href="/assets/index.html-BH4Dpq0i.js" as="script"><link rel="prefetch" href="/assets/facades.html-C2aR4UWr.js" as="script"><link rel="prefetch" href="/assets/request-lifecycle.html-DjwS9dTj.js" as="script"><link rel="prefetch" href="/assets/service-container.html-DJHyqjcJ.js" as="script"><link rel="prefetch" href="/assets/service-providers.html-D_jvpHPG.js" as="script"><link rel="prefetch" href="/assets/index.html-BzP_d35x.js" as="script"><link rel="prefetch" href="/assets/artisan-console.html-C2I1migr.js" as="script"><link rel="prefetch" href="/assets/cache.html-BKq06q4R.js" as="script"><link rel="prefetch" href="/assets/color.html-B2Zh5gdn.js" as="script"><link rel="prefetch" href="/assets/event.html-cz4xVCD9.js" as="script"><link rel="prefetch" href="/assets/filesystem.html-CxSzhUX6.js" as="script"><link rel="prefetch" href="/assets/helpers.html-Cljk2bw1.js" as="script"><link rel="prefetch" href="/assets/localization.html-D2FzCYEp.js" as="script"><link rel="prefetch" href="/assets/mail.html-6te-wk27.js" as="script"><link rel="prefetch" href="/assets/package-development.html-CkAz_pLz.js" as="script"><link rel="prefetch" href="/assets/queues.html-wQdwlbcE.js" as="script"><link rel="prefetch" href="/assets/strings.html-DfV27Vfj.js" as="script"><link rel="prefetch" href="/assets/task-scheduling.html-BfzoDVTp.js" as="script"><link rel="prefetch" href="/assets/index.html-B5u2yB_2.js" as="script"><link rel="prefetch" href="/assets/compile.html-DBeOAuoR.js" as="script"><link rel="prefetch" href="/assets/configuration.html-BwoSdvYS.js" as="script"><link rel="prefetch" href="/assets/directory-structure.html-Dr1c0_3I.js" as="script"><link rel="prefetch" href="/assets/installation.html-Wrd_XPtX.js" as="script"><link rel="prefetch" href="/assets/index.html-Cyim5ic0.js" as="script"><link rel="prefetch" href="/assets/factories.html-CO1af-1o.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-CE_DgRTc.js" as="script"><link rel="prefetch" href="/assets/migrations.html-Iu627TCz.js" as="script"><link rel="prefetch" href="/assets/relationships.html-Q7vrkUU8.js" as="script"><link rel="prefetch" href="/assets/seeding.html-Ab4F4SXP.js" as="script"><link rel="prefetch" href="/assets/contributions.html-BP-US1Rs.js" as="script"><link rel="prefetch" href="/assets/packages.html-BkGuU7o-.js" as="script"><link rel="prefetch" href="/assets/authentication.html-YrTSNp1e.js" as="script"><link rel="prefetch" href="/assets/authorization.html-B8UZiSxU.js" as="script"><link rel="prefetch" href="/assets/encryption.html-BWOiCIti.js" as="script"><link rel="prefetch" href="/assets/hashing.html-DLKNsR1o.js" as="script"><link rel="prefetch" href="/assets/index.html-CY-G6wba.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-CW30iLrz.js" as="script"><link rel="prefetch" href="/assets/http-tests.html-JtiO1c3D.js" as="script"><link rel="prefetch" href="/assets/mock.html-Dd2m23Hl.js" as="script"><link rel="prefetch" href="/assets/index.html-fF20jMYS.js" as="script"><link rel="prefetch" href="/assets/controllers.html-BKGrwDod.js" as="script"><link rel="prefetch" href="/assets/grpc.html-Bejy7b0f.js" as="script"><link rel="prefetch" href="/assets/logging.html-DB477cKo.js" as="script"><link rel="prefetch" href="/assets/middleware.html-D4nM-uvC.js" as="script"><link rel="prefetch" href="/assets/request.html-DVhLQNIo.js" as="script"><link rel="prefetch" href="/assets/response.html-DU_fICdL.js" as="script"><link rel="prefetch" href="/assets/routing.html-CpCbh4Jk.js" as="script"><link rel="prefetch" href="/assets/session.html-QIkz49zL.js" as="script"><link rel="prefetch" href="/assets/validation.html-KMwWHGSo.js" as="script"><link rel="prefetch" href="/assets/views.html-CDPwzjtW.js" as="script"><link rel="prefetch" href="/assets/history.html-DsP3tFZ6.js" as="script"><link rel="prefetch" href="/assets/v1.1.html-DW86eXiz.js" as="script"><link rel="prefetch" href="/assets/v1.10.html-DItdw1Pz.js" as="script"><link rel="prefetch" href="/assets/v1.11.html-DgZJd5Q8.js" as="script"><link rel="prefetch" href="/assets/v1.12.html-VLV5c4Fp.js" as="script"><link rel="prefetch" href="/assets/v1.13.html-D6FxsJiU.js" as="script"><link rel="prefetch" href="/assets/v1.14.html-CMk6Wdjs.js" as="script"><link rel="prefetch" href="/assets/v1.15.html-D4BT0Rr6.js" as="script"><link rel="prefetch" href="/assets/v1.2.html-CvkzS_Ge.js" as="script"><link rel="prefetch" href="/assets/v1.3.html-wCwAp77z.js" as="script"><link rel="prefetch" href="/assets/v1.4.html-Cc4VTWcQ.js" as="script"><link rel="prefetch" href="/assets/v1.5.html-BWoklyPF.js" as="script"><link rel="prefetch" href="/assets/v1.6.html-H4JUN0Er.js" as="script"><link rel="prefetch" href="/assets/v1.7.html-B5YzfGSs.js" as="script"><link rel="prefetch" href="/assets/v1.8.html-BjuHy4Pd.js" as="script"><link rel="prefetch" href="/assets/v1.9.html-DiglFmP7.js" as="script"><link rel="prefetch" href="/assets/404.html-B8-_0g9Y.js" as="script"><link rel="prefetch" href="/assets/SidebarTop-goDPffma.js" as="script"><link rel="prefetch" href="/assets/index-DuqNHZ2Z.js" as="script"><link rel="prefetch" href="/assets/giscus--_FS5kYt.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-Bav792cR.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/logo-mini.png" alt="Goravel"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Goravel</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://www.youtube.com/playlist?list=PL40Xne4u-oXJ0Z5uFiPWHqIMvzZaG_BDf" aria-label="Video" rel="noopener noreferrer" target="_blank"><!---->Video<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/testing/http-tests.html" aria-label="English"><!---->English<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/zh/testing/http-tests.html" aria-label="简体中文"><!---->简体中文<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/goravel/goravel" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://www.youtube.com/playlist?list=PL40Xne4u-oXJ0Z5uFiPWHqIMvzZaG_BDf" aria-label="Video" rel="noopener noreferrer" target="_blank"><!---->Video<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/testing/http-tests.html" aria-label="English"><!---->English<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/zh/testing/http-tests.html" aria-label="简体中文"><!---->简体中文<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/goravel/goravel" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Prologue <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><p tabindex="0" class="vp-sidebar-item">Upgrade Guide <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/upgrade/v1.15.html" aria-label="Upgrading To v1.15 From v1.14"><!---->Upgrading To v1.15 From v1.14<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/upgrade/v1.14.html" aria-label="Upgrading To v1.14 From v1.13"><!---->Upgrading To v1.14 From v1.13<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/upgrade/history.html" aria-label="History Upgrade"><!---->History Upgrade<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/prologue/contributions.html" aria-label="Contribution Guide"><!---->Contribution Guide<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/prologue/packages.html" aria-label="Excellent Extend Packages"><!---->Excellent Extend Packages<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Getting Started <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/installation.html" aria-label="Installation"><!---->Installation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/configuration.html" aria-label="Configuration"><!---->Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/directory-structure.html" aria-label="Directory Structure"><!---->Directory Structure<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/compile.html" aria-label="Compile"><!---->Compile<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Architecture Concepts <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/architecture-concepts/request-lifecycle.html" aria-label="Request Lifecycle"><!---->Request Lifecycle<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/architecture-concepts/service-container.html" aria-label="Service Container"><!---->Service Container<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/architecture-concepts/service-providers.html" aria-label="Service Providers"><!---->Service Providers<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/architecture-concepts/facades.html" aria-label="Facades"><!---->Facades<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">The Basics <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/the-basics/routing.html" aria-label="Routing"><!---->Routing<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/the-basics/middleware.html" aria-label="HTTP Middleware"><!---->HTTP Middleware<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/the-basics/controllers.html" aria-label="Controllers"><!---->Controllers<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/the-basics/request.html" aria-label="Requests"><!---->Requests<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/the-basics/response.html" aria-label="Responses"><!---->Responses<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/the-basics/views.html" aria-label="Views"><!---->Views<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/the-basics/grpc.html" aria-label="Grpc"><!---->Grpc<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/the-basics/session.html" aria-label="Session"><!---->Session<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/the-basics/validation.html" aria-label="Validation"><!---->Validation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/the-basics/logging.html" aria-label="Logging"><!---->Logging<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Digging Deeper <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/artisan-console.html" aria-label="Artisan Console"><!---->Artisan Console<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/cache.html" aria-label="Cache"><!---->Cache<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/event.html" aria-label="Events"><!---->Events<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/filesystem.html" aria-label="File Storage"><!---->File Storage<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/mail.html" aria-label="Mail"><!---->Mail<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/queues.html" aria-label="Queues"><!---->Queues<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/task-scheduling.html" aria-label="Task Scheduling"><!---->Task Scheduling<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/localization.html" aria-label="Localization"><!---->Localization<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/package-development.html" aria-label="Package Development"><!---->Package Development<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/color.html" aria-label="Color"><!---->Color<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/strings.html" aria-label="Strings"><!---->Strings<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/digging-deeper/helpers.html" aria-label="Helpers"><!---->Helpers<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Security <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/security/authentication.html" aria-label="Authentication"><!---->Authentication<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/security/authorization.html" aria-label="Authorization"><!---->Authorization<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/security/encryption.html" aria-label="Encryption"><!---->Encryption<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/security/hashing.html" aria-label="Hashing"><!---->Hashing<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">ORM <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/orm/getting-started.html" aria-label="Getting Started"><!---->Getting Started<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/orm/relationships.html" aria-label="Relationships"><!---->Relationships<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/orm/migrations.html" aria-label="Migrations"><!---->Migrations<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/orm/seeding.html" aria-label="Seeding"><!---->Seeding<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/orm/factories.html" aria-label="Factories"><!---->Factories<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">Testing <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/testing/getting-started.html" aria-label="Getting Started"><!---->Getting Started<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/testing/http-tests.html" aria-label="HTTP Tests"><!---->HTTP Tests<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/testing/mock.html" aria-label="Mock"><!---->Mock<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="http-tests" tabindex="-1"><a class="header-anchor" href="#http-tests"><span>HTTP Tests</span></a></h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/testing/http-tests.html#introduction" class="router-link-active router-link-exact-active">Introduction</a></li><li><a aria-current="page" href="/testing/http-tests.html#make-requests" class="router-link-active router-link-exact-active">Make Requests</a><ul><li><a aria-current="page" href="/testing/http-tests.html#customize-request-headers" class="router-link-active router-link-exact-active">Customize Request Headers</a></li><li><a aria-current="page" href="/testing/http-tests.html#cookies" class="router-link-active router-link-exact-active">Cookies</a></li><li><a aria-current="page" href="/testing/http-tests.html#withsession" class="router-link-active router-link-exact-active">WithSession</a></li><li><a aria-current="page" href="/testing/http-tests.html#debugging-responses" class="router-link-active router-link-exact-active">Debugging Responses</a></li></ul></li><li><a aria-current="page" href="/testing/http-tests.html#building-body" class="router-link-active router-link-exact-active">Building Body</a></li><li><a aria-current="page" href="/testing/http-tests.html#testing-json-apis" class="router-link-active router-link-exact-active">Testing Json APIs</a><ul><li><a aria-current="page" href="/testing/http-tests.html#asserting-exact-json-matches" class="router-link-active router-link-exact-active">Asserting Exact JSON Matches</a></li><li><a aria-current="page" href="/testing/http-tests.html#fluent-json-testing" class="router-link-active router-link-exact-active">Fluent JSON Testing</a></li><li><a aria-current="page" href="/testing/http-tests.html#asserting-attribute-presence-absence" class="router-link-active router-link-exact-active">Asserting Attribute Presence / Absence</a></li><li><a aria-current="page" href="/testing/http-tests.html#scoping-json-collection-assertions" class="router-link-active router-link-exact-active">Scoping JSON Collection Assertions</a></li></ul></li><li><a aria-current="page" href="/testing/http-tests.html#available-assertions" class="router-link-active router-link-exact-active">Available Assertions</a><ul><li><a aria-current="page" href="/testing/http-tests.html#response-assertions" class="router-link-active router-link-exact-active">Response Assertions</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertaccepted" class="router-link-active router-link-exact-active">AssertAccepted</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertbadrequest" class="router-link-active router-link-exact-active">AssertBadRequest</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertconflict" class="router-link-active router-link-exact-active">AssertConflict</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertcookie" class="router-link-active router-link-exact-active">AssertCookie</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertcookieexpired" class="router-link-active router-link-exact-active">AssertCookieExpired</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertcookiemissing" class="router-link-active router-link-exact-active">AssertCookieMissing</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertcookienotexpired" class="router-link-active router-link-exact-active">AssertCookieNotExpired</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertcreated" class="router-link-active router-link-exact-active">AssertCreated</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertdontsee" class="router-link-active router-link-exact-active">AssertDontSee</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertexactjson" class="router-link-active router-link-exact-active">AssertExactJson</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertfluentjson" class="router-link-active router-link-exact-active">AssertFluentJson</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertforbidden" class="router-link-active router-link-exact-active">AssertForbidden</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertfound" class="router-link-active router-link-exact-active">AssertFound</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertgone" class="router-link-active router-link-exact-active">AssertGone</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertheader" class="router-link-active router-link-exact-active">AssertHeader</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertheadermissing" class="router-link-active router-link-exact-active">AssertHeaderMissing</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertinternalservererror" class="router-link-active router-link-exact-active">AssertInternalServerError</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertjson" class="router-link-active router-link-exact-active">AssertJson</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertjsonmissing" class="router-link-active router-link-exact-active">AssertJsonMissing</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertmethodnotallowed" class="router-link-active router-link-exact-active">AssertMethodNotAllowed</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertmovedpermanently" class="router-link-active router-link-exact-active">AssertMovedPermanently</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertnocontent" class="router-link-active router-link-exact-active">AssertNoContent</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertnotacceptable" class="router-link-active router-link-exact-active">AssertNotAcceptable</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertnotfound" class="router-link-active router-link-exact-active">AssertNotFound</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertnotmodified" class="router-link-active router-link-exact-active">AssertNotModified</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertok" class="router-link-active router-link-exact-active">AssertOk</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertpartialcontent" class="router-link-active router-link-exact-active">AssertPartialContent</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertpaymentrequired" class="router-link-active router-link-exact-active">AssertPaymentRequired</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertrequesttimeout" class="router-link-active router-link-exact-active">AssertRequestTimeout</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertsee" class="router-link-active router-link-exact-active">AssertSee</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertseeinorder" class="router-link-active router-link-exact-active">AssertSeeInOrder</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertservererror" class="router-link-active router-link-exact-active">AssertServerError</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertserviceunavailable" class="router-link-active router-link-exact-active">AssertServiceUnavailable</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertstatus" class="router-link-active router-link-exact-active">AssertStatus</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertsuccessful" class="router-link-active router-link-exact-active">AssertSuccessful</a></li><li><a aria-current="page" href="/testing/http-tests.html#asserttemporaryredirect" class="router-link-active router-link-exact-active">AssertTemporaryRedirect</a></li><li><a aria-current="page" href="/testing/http-tests.html#asserttoomanyrequests" class="router-link-active router-link-exact-active">AssertTooManyRequests</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertunauthorized" class="router-link-active router-link-exact-active">AssertUnauthorized</a></li><li><a aria-current="page" href="/testing/http-tests.html#assertunprocessableentity" class="router-link-active router-link-exact-active">AssertUnprocessableEntity</a></li></ul></li></ul></nav><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p>When building web applications, you&#39;ll often need to test if your HTTP requests work correctly from start to finish. Goravel&#39;s testing tools make this straightforward - you can simulate requests and verify responses without setting up complex test environments.</p><h2 id="make-requests" tabindex="-1"><a class="header-anchor" href="#make-requests"><span>Make Requests</span></a></h2><p>Testing HTTP endpoints in Goravel uses a simple pattern. Start with the <code>Http</code> method from your <code>TestCase</code>, which needs a <code>*testing.T</code> parameter for assertions. This gives you a request object (<code>framework/contracts/testing.TestRequest</code>) that handles all common HTTP verbs like <code>Get</code>, <code>Post</code>, and <code>Put</code>.</p><p>Instead of making real HTTP calls, these methods simulate your application&#39;s request cycle internally. Each request returns a response object (<code>framework/contracts/testing.TestResponse</code>) with methods to check the results.</p><p>Here&#39;s a basic example:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/users/1&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	s<span class="token punctuation">.</span><span class="token function">Nil</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line">	response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="customize-request-headers" tabindex="-1"><a class="header-anchor" href="#customize-request-headers"><span>Customize Request Headers</span></a></h3><p>You can customize request headers using either <code>WithHeader</code> for a single header or <code>WithHeaders</code> for multiple headers:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Single header</span></span>
<span class="line">    response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithHeader</span><span class="token punctuation">(</span><span class="token string">&quot;X-Custom-Header&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/users/1&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Multiple headers</span></span>
<span class="line">    response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithHeaders</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;X-Custom-Header&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Value&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;Accept&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/users/1&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cookies" tabindex="-1"><a class="header-anchor" href="#cookies"><span>Cookies</span></a></h3><p>You may use either <code>WithCookie</code> or <code>WithCookies</code> method to set cookies value before making a request.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithCookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;krishan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/users/1&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// or use WithHeaders for multiple Headers</span></span>
<span class="line">	response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithHeader</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;krishan&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;lang&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/users/1&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="withsession" tabindex="-1"><a class="header-anchor" href="#withsession"><span>WithSession</span></a></h3><p>You may set the data to the session using the <code>WithSession</code> method:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithSession</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span><span class="token string">&quot;role&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/users/1&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="debugging-responses" tabindex="-1"><a class="header-anchor" href="#debugging-responses"><span>Debugging Responses</span></a></h3><p>After making request you may use <code>Session</code>, <code>Headers</code>, <code>Content</code>, <code>Cookies</code> or <code>Json</code> method to check data returned from the request.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithSession</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span><span class="token string">&quot;role&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/users/1&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	</span>
<span class="line">	content<span class="token punctuation">,</span> err <span class="token operator">:=</span> response<span class="token punctuation">.</span><span class="token function">Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">	</span>
<span class="line">	cookies <span class="token operator">:=</span> response<span class="token punctuation">.</span><span class="token function">Cookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">	</span>
<span class="line">	headers <span class="token operator">:=</span> response<span class="token punctuation">.</span><span class="token function">Headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">	</span>
<span class="line">	json<span class="token punctuation">,</span> err <span class="token operator">:=</span> response<span class="token punctuation">.</span><span class="token function">Json</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// response body parsed as json(map[string]any)</span></span>
<span class="line">	</span>
<span class="line">	session<span class="token punctuation">,</span> err <span class="token operator">:=</span> response<span class="token punctuation">.</span><span class="token function">Session</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// returns all values stored in the current request session</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="building-body" tabindex="-1"><a class="header-anchor" href="#building-body"><span>Building Body</span></a></h2><p>For method like <code>Post</code>, <code>Put</code>, <code>Delete</code> etc. Goravel accepts <code>io.Reader</code> as second argument. To simplify building payloads, the framework provides utility methods for constructing request bodies.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token string">&quot;github.com/goravel/framework/support/http&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    builder <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">NewBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetField</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;krishan&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    body<span class="token punctuation">,</span> err <span class="token operator">:=</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> body<span class="token punctuation">.</span><span class="token function">ContentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Post</span><span class="token punctuation">(</span><span class="token string">&quot;/users&quot;</span><span class="token punctuation">,</span> body<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="testing-json-apis" tabindex="-1"><a class="header-anchor" href="#testing-json-apis"><span>Testing Json APIs</span></a></h2><p>Goravel provides several helpers to test JSON API responses effectively. It attempts to unmarshal the response body into a Go <code>map[string]any</code>. If unmarshalling fails, the associated assertions will also fail.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> body<span class="token punctuation">.</span><span class="token function">ContentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Post</span><span class="token punctuation">(</span><span class="token string">&quot;/users&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span></span>
<span class="line">	s<span class="token punctuation">.</span><span class="token function">Nil</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line">	</span>
<span class="line">	response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">		<span class="token function">AssertJson</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span></span>
<span class="line">			<span class="token string">&quot;created&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To access the unmarshalled JSON directly, use the <code>Json</code> method on the <code>TestResponse</code>. This lets you inspect individual elements of the response body.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">json<span class="token punctuation">,</span> err <span class="token operator">:=</span> response<span class="token punctuation">.</span><span class="token function">Json</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">s<span class="token punctuation">.</span><span class="token function">Nil</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line">s<span class="token punctuation">.</span><span class="token function">True</span><span class="token punctuation">(</span>json<span class="token punctuation">[</span><span class="token string">&quot;created&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>The <code>AssertJson</code> method checks whether the response contains all the specified values, even if the response includes additional fields. It doesn&#39;t require an exact match unless you use <code>AssertExactJson</code>.</p></div><h3 id="asserting-exact-json-matches" tabindex="-1"><a class="header-anchor" href="#asserting-exact-json-matches"><span>Asserting Exact JSON Matches</span></a></h3><p>If you need to verify that the response matches your expected JSON exactly (with no extra or missing fields), use the <code>AssertExactJson</code> method.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> body<span class="token punctuation">.</span><span class="token function">ContentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Post</span><span class="token punctuation">(</span><span class="token string">&quot;/users&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span></span>
<span class="line">	s<span class="token punctuation">.</span><span class="token function">Nil</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line">	</span>
<span class="line">	response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">		<span class="token function">AssertExactJson</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span></span>
<span class="line">			<span class="token string">&quot;created&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="fluent-json-testing" tabindex="-1"><a class="header-anchor" href="#fluent-json-testing"><span>Fluent JSON Testing</span></a></h3><p>Goravel makes it easy to perform fluent assertions on JSON responses. Using the <code>AssertFluentJson</code> method, you can pass a closure that provides an instance of <code>framework/contracts/testing.AssertableJSON</code>. This instance allows you to check specific values or conditions in the JSON response returned by your request.</p><p>For example, you can use the <code>Where</code> method to assert that a particular value exists in the JSON response, and the <code>Missing</code> method to ensure that an attribute is not present.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">import</span> contractstesting <span class="token string">&quot;github.com/goravel/framework/contracts/testing&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    response<span class="token punctuation">,</span> err <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Http</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/users/1&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	s<span class="token punctuation">.</span><span class="token function">Nil</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line">	</span>
<span class="line">	response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">		<span class="token function">AssertFluentJson</span><span class="token punctuation">(</span><span class="token keyword">func</span> <span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">			json<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token function">float64</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">				<span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bowen&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">				<span class="token function">WhereNot</span><span class="token punctuation">(</span><span class="token string">&quot;lang&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">				<span class="token function">Missing</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="asserting-attribute-presence-absence" tabindex="-1"><a class="header-anchor" href="#asserting-attribute-presence-absence"><span>Asserting Attribute Presence / Absence</span></a></h3><p>If you want to check whether an attribute is present or missing, Goravel makes it simple with the <code>Has</code> and <code>Missing</code> methods.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">    <span class="token function">AssertFluentJson</span><span class="token punctuation">(</span><span class="token keyword">func</span> <span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        json<span class="token punctuation">.</span><span class="token function">Has</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">            <span class="token function">Missing</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also assert the presence or absence of multiple attributes at once using <code>HasAll</code> and <code>MissingAll</code>.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">    <span class="token function">AssertFluentJson</span><span class="token punctuation">(</span><span class="token keyword">func</span> <span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        json<span class="token punctuation">.</span><span class="token function">Has</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">            <span class="token function">MissingAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;verified&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you only need to check for the presence of at least one attribute from a list, use the <code>HasAny</code> method.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">    <span class="token function">AssertFluentJson</span><span class="token punctuation">(</span><span class="token keyword">func</span> <span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		json<span class="token punctuation">.</span><span class="token function">HasAny</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="scoping-json-collection-assertions" tabindex="-1"><a class="header-anchor" href="#scoping-json-collection-assertions"><span>Scoping JSON Collection Assertions</span></a></h3><p>When a response contains a collection of objects under a named key, you can use various methods to assert its structure and content.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">type</span> Item <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">    ID <span class="token builtin">int</span> <span class="token string">`json:&quot;id&quot;`</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">facades<span class="token punctuation">.</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>ctx http<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> http<span class="token punctuation">.</span>Response <span class="token punctuation">{</span></span>
<span class="line">    items <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Item<span class="token punctuation">{</span></span>
<span class="line">        <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Json</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">{</span></span>
<span class="line">		<span class="token string">&quot;items&quot;</span><span class="token punctuation">:</span> items<span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can use the <code>Count</code> method to verify the number of elements in the collection. To assert properties of the first element, use the <code>First</code> method, which provides an instance of <code>AssertableJson</code>. Similarly, the <code>Each</code> method allows you to iterate over all elements and assert their properties individually. Alternatively, the <code>HasWithScope</code> method combines the functionality of <code>First</code> and <code>Count</code>, allowing you to assert both the first element and its contents while providing an <code>AssertableJson</code> instance for scoped assertions.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token comment">// Count and First</span></span>
<span class="line">response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">    <span class="token function">AssertFluentJson</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        json<span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">            <span class="token function">First</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                json<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Each</span></span>
<span class="line">response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">    <span class="token function">AssertFluentJson</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        json<span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">            <span class="token function">Each</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                json<span class="token punctuation">.</span><span class="token function">Has</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// HasWithScope</span></span>
<span class="line">response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">    <span class="token function">AssertFluentJson</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        json<span class="token punctuation">.</span><span class="token function">HasWithScope</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            json<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="available-assertions" tabindex="-1"><a class="header-anchor" href="#available-assertions"><span>Available Assertions</span></a></h2><h3 id="response-assertions" tabindex="-1"><a class="header-anchor" href="#response-assertions"><span>Response Assertions</span></a></h3><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td><a href="#assertaccepted">AssertAccepted</a></td><td><a href="#assertbadrequest">AssertBadRequest</a></td><td><a href="#assertconflict">AssertConflict</a></td></tr><tr><td><a href="#assertcookie">AssertCookie</a></td><td><a href="#assertcookieexpired">AssertCookieExpired</a></td><td><a href="#assertcookiemissing">AssertCookieMissing</a></td></tr><tr><td><a href="#assertcookienotexpired">AssertCookieNotExpired</a></td><td><a href="#assertcreated">AssertCreated</a></td><td><a href="#assertdontsee">AssertDontSee</a></td></tr><tr><td><a href="#assertexactjson">AssertExactJson</a></td><td><a href="#assertfluentjson">AssertFluentJson</a></td><td><a href="#assertforbidden">AssertForbidden</a></td></tr><tr><td><a href="#assertfound">AssertFound</a></td><td><a href="#assertgone">AssertGone</a></td><td><a href="#assertheader">AssertHeader</a></td></tr><tr><td><a href="#assertheadermissing">AssertHeaderMissing</a></td><td><a href="#assertinternalservererror">AssertInternalServerError</a></td><td><a href="#assertjson">AssertJson</a></td></tr><tr><td><a href="#assertjsonmissing">AssertJsonMissing</a></td><td><a href="#assertmethodnotallowed">AssertMethodNotAllowed</a></td><td><a href="#assertmovedpermanently">AssertMovedPermanently</a></td></tr><tr><td><a href="#assertnocontent">AssertNoContent</a></td><td><a href="#assertnotacceptable">AssertNotAcceptable</a></td><td><a href="#assertnotfound">AssertNotFound</a></td></tr><tr><td><a href="#assertnotmodified">AssertNotModified</a></td><td><a href="#assertok">AssertOk</a></td><td><a href="#assertpartialcontent">AssertPartialContent</a></td></tr><tr><td><a href="#assertpaymentrequired">AssertPaymentRequired</a></td><td><a href="#assertrequesttimeout">AssertRequestTimeout</a></td><td><a href="#assertsee">AssertSee</a></td></tr><tr><td><a href="#assertseeinorder">AssertSeeInOrder</a></td><td><a href="#assertservererror">AssertServerError</a></td><td><a href="#assertserviceunavailable">AssertServiceUnavailable</a></td></tr><tr><td><a href="#assertstatus">AssertStatus</a></td><td><a href="#assertsuccessful">AssertSuccessful</a></td><td><a href="#asserttemporaryredirect">AssertTemporaryRedirect</a></td></tr><tr><td><a href="#asserttoomanyrequests">AssertTooManyRequests</a></td><td><a href="#assertunauthorized">AssertUnauthorized</a></td><td><a href="#assertunprocessableentity">AssertUnprocessableEntity</a></td></tr></tbody></table><h3 id="assertaccepted" tabindex="-1"><a class="header-anchor" href="#assertaccepted"><span>AssertAccepted</span></a></h3><p>Asserts that the response has an <code>202 Accepted</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertAccepted</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertbadrequest" tabindex="-1"><a class="header-anchor" href="#assertbadrequest"><span>AssertBadRequest</span></a></h3><p>Asserts that the response has a <code>400 Bad Request</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertBadRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertconflict" tabindex="-1"><a class="header-anchor" href="#assertconflict"><span>AssertConflict</span></a></h3><p>Asserts that the response has a <code>409 Conflict</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertConflict</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertcookie" tabindex="-1"><a class="header-anchor" href="#assertcookie"><span>AssertCookie</span></a></h3><p>Asserts that the response contains a cookie with the specified name and value:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertCookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertcookieexpired" tabindex="-1"><a class="header-anchor" href="#assertcookieexpired"><span>AssertCookieExpired</span></a></h3><p>Asserts that the specified cookie has expired:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertCookieExpired</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertcookiemissing" tabindex="-1"><a class="header-anchor" href="#assertcookiemissing"><span>AssertCookieMissing</span></a></h3><p>Asserts that the response does not contain a cookie with the specified name:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertCookieMissing</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertcookienotexpired" tabindex="-1"><a class="header-anchor" href="#assertcookienotexpired"><span>AssertCookieNotExpired</span></a></h3><p>Asserts that the specified cookie has not expired:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertCookieNotExpired</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertcreated" tabindex="-1"><a class="header-anchor" href="#assertcreated"><span>AssertCreated</span></a></h3><p>Asserts that the response has a <code>201 Created</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertCreated</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertdontsee" tabindex="-1"><a class="header-anchor" href="#assertdontsee"><span>AssertDontSee</span></a></h3><p>Asserts that the response does not contain the specified values. The second parameter (optional) determines whether to escape special characters in the values before checking. If not provided, it defaults to true.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertDontSee</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;&lt;div&gt;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>  <span class="token comment">// Do not escape special characters</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertexactjson" tabindex="-1"><a class="header-anchor" href="#assertexactjson"><span>AssertExactJson</span></a></h3><p>Asserts that the response JSON matches exactly the provided <code>map[string]any</code>:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertExactJson</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span><span class="token string">&quot;created&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertfluentjson" tabindex="-1"><a class="header-anchor" href="#assertfluentjson"><span>AssertFluentJson</span></a></h3><p>Asserts the response JSON using a fluent interface:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">import</span> contractstesting <span class="token string">&quot;github.com/goravel/framework/contracts/testing&quot;</span></span>
<span class="line"></span>
<span class="line">response<span class="token punctuation">.</span><span class="token function">AssertFluentJson</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>json contractstesting<span class="token punctuation">.</span>AssertableJSON<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">     json<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;created&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="assertforbidden" tabindex="-1"><a class="header-anchor" href="#assertforbidden"><span>AssertForbidden</span></a></h3><p>Asserts that the response has a <code>403 Forbidden</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertForbidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertfound" tabindex="-1"><a class="header-anchor" href="#assertfound"><span>AssertFound</span></a></h3><p>Asserts that the response has a <code>302 Found</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertgone" tabindex="-1"><a class="header-anchor" href="#assertgone"><span>AssertGone</span></a></h3><p>Asserts that the response has a <code>410 Gone</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertGone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertheader" tabindex="-1"><a class="header-anchor" href="#assertheader"><span>AssertHeader</span></a></h3><p>Asserts that the response contains the specified header with the given value:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertheadermissing" tabindex="-1"><a class="header-anchor" href="#assertheadermissing"><span>AssertHeaderMissing</span></a></h3><p>Asserts that the response does not contain the specified header:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertHeaderMissing</span><span class="token punctuation">(</span><span class="token string">&quot;X-Custom-Header&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertinternalservererror" tabindex="-1"><a class="header-anchor" href="#assertinternalservererror"><span>AssertInternalServerError</span></a></h3><p>Asserts that the response has a <code>500 Internal Server</code> Error HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertInternalServerError</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertjson" tabindex="-1"><a class="header-anchor" href="#assertjson"><span>AssertJson</span></a></h3><p>Asserts that the response JSON contains the provided fragment:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertJson</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span><span class="token string">&quot;created&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertjsonmissing" tabindex="-1"><a class="header-anchor" href="#assertjsonmissing"><span>AssertJsonMissing</span></a></h3><p>Asserts that the specified keys or values are missing in the response JSON:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertJsonMissing</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span><span class="token string">&quot;created&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertmethodnotallowed" tabindex="-1"><a class="header-anchor" href="#assertmethodnotallowed"><span>AssertMethodNotAllowed</span></a></h3><p>Asserts that the response has a <code>405 Method Not Allowed</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertMethodNotAllowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertmovedpermanently" tabindex="-1"><a class="header-anchor" href="#assertmovedpermanently"><span>AssertMovedPermanently</span></a></h3><p>Asserts that the response has a <code>301 Moved Permanently</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertMovedPermanently</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertnocontent" tabindex="-1"><a class="header-anchor" href="#assertnocontent"><span>AssertNoContent</span></a></h3><p>Asserts that the response has a <code>204 No Content</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertNoContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertnotacceptable" tabindex="-1"><a class="header-anchor" href="#assertnotacceptable"><span>AssertNotAcceptable</span></a></h3><p>Asserts that the response has a <code>406 Not Acceptable</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertNotAcceptable</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertnotfound" tabindex="-1"><a class="header-anchor" href="#assertnotfound"><span>AssertNotFound</span></a></h3><p>Asserts that the response has a <code>404 Not Found</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertNotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertnotmodified" tabindex="-1"><a class="header-anchor" href="#assertnotmodified"><span>AssertNotModified</span></a></h3><p>Asserts that the response has a <code>304 Not Modified</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertNotModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertok" tabindex="-1"><a class="header-anchor" href="#assertok"><span>AssertOk</span></a></h3><p>Asserts that the response has a <code>200 OK</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertpartialcontent" tabindex="-1"><a class="header-anchor" href="#assertpartialcontent"><span>AssertPartialContent</span></a></h3><p>Asserts that the response has a <code>206 Partial Content</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertPartialContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertpaymentrequired" tabindex="-1"><a class="header-anchor" href="#assertpaymentrequired"><span>AssertPaymentRequired</span></a></h3><p>Asserts that the response has a <code>402 Payment Required</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertPaymentRequired</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertrequesttimeout" tabindex="-1"><a class="header-anchor" href="#assertrequesttimeout"><span>AssertRequestTimeout</span></a></h3><p>Asserts that the response has a <code>408 Request Timeout</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertRequestTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertsee" tabindex="-1"><a class="header-anchor" href="#assertsee"><span>AssertSee</span></a></h3><p>Asserts that the response contains the specified values. The second parameter (optional) determines whether to escape special characters in the values before checking. If not provided, it defaults to <code>true</code>.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertSee</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;&lt;div&gt;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>  <span class="token comment">// Do not escape special characters</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertseeinorder" tabindex="-1"><a class="header-anchor" href="#assertseeinorder"><span>AssertSeeInOrder</span></a></h3><p>Asserts that the response contains the specified values in the given order. The second parameter (optional) determines whether to escape special characters in the values before checking. If not provided, it defaults to <code>true</code>.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertSeeInOrder</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;First&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Second&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>  <span class="token comment">// Do not escape special characters</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertservererror" tabindex="-1"><a class="header-anchor" href="#assertservererror"><span>AssertServerError</span></a></h3><p>Asserts that the response has a server error (&gt;= 500 , &lt; 600) HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertServerError</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertserviceunavailable" tabindex="-1"><a class="header-anchor" href="#assertserviceunavailable"><span>AssertServiceUnavailable</span></a></h3><p>Asserts that the response has a <code>503 Service Unavailable</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertServiceUnavailable</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertstatus" tabindex="-1"><a class="header-anchor" href="#assertstatus"><span>AssertStatus</span></a></h3><p>Asserts that the response has the specified HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertStatus</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertsuccessful" tabindex="-1"><a class="header-anchor" href="#assertsuccessful"><span>AssertSuccessful</span></a></h3><p>Asserts that the response has a successful HTTP status code (2xx):</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertSuccessful</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="asserttemporaryredirect" tabindex="-1"><a class="header-anchor" href="#asserttemporaryredirect"><span>AssertTemporaryRedirect</span></a></h3><p>Asserts that the response has a <code>307 Temporary Redirect</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertTemporaryRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="asserttoomanyrequests" tabindex="-1"><a class="header-anchor" href="#asserttoomanyrequests"><span>AssertTooManyRequests</span></a></h3><p>Asserts that the response has a <code>429 Too Many Requests</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertTooManyRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertunauthorized" tabindex="-1"><a class="header-anchor" href="#assertunauthorized"><span>AssertUnauthorized</span></a></h3><p>Asserts that the response has a <code>401 Unauthorized</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertUnauthorized</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assertunprocessableentity" tabindex="-1"><a class="header-anchor" href="#assertunprocessableentity"><span>AssertUnprocessableEntity</span></a></h3><p>Asserts that the response has a <code>422 Unprocessable Entity</code> HTTP status code:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">response<span class="token punctuation">.</span><span class="token function">AssertUnprocessableEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/goravel/goravel/edit/master/testing/http-tests.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->Edit this page<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/testing/getting-started.html" aria-label="Getting Started"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Getting Started</span></div></a><a class="route-link auto-link next" href="/testing/mock.html" aria-label="Mock"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Mock</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CgAH1ugc.js" defer></script>
  </body>
</html>
