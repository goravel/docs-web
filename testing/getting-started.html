<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <link rel="alternate" hreflang="zh-cn" href="https://goravel.dev/zh/testing/getting-started.html"><meta property="og:url" content="https://goravel.dev/testing/getting-started.html"><meta property="og:site_name" content="Goravel"><meta property="og:title" content="/testing/getting-started.html"><meta property="og:description" content="Getting Started Introduction The testing function of Goravel relies on Golang's official test component, extending unit testing to support integration testing and improve applic..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Getting Started","image":[""],"dateModified":null,"author":[]}</script><script crossorigin="anonymous" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4978322804450032"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-HJQNEG5H69"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HJQNEG5H69');</script><title>Getting Started | Goravel</title><meta name="description" content="Getting Started Introduction The testing function of Goravel relies on Golang's official test component, extending unit testing to support integration testing and improve applic...">
    <link rel="preload" href="/assets/style-eGez3mya.css" as="style"><link rel="stylesheet" href="/assets/style-eGez3mya.css">
    <link rel="modulepreload" href="/assets/app-Coq7p5-_.js"><link rel="modulepreload" href="/assets/getting-started.html-CMLPeNDq.js">
    <link rel="prefetch" href="/assets/index.html-D9dsfZdp.js" as="script"><link rel="prefetch" href="/assets/index.html-DEDSU3HE.js" as="script"><link rel="prefetch" href="/assets/facades.html-Iz3TgxJp.js" as="script"><link rel="prefetch" href="/assets/request-lifecycle.html-CxIUXqK_.js" as="script"><link rel="prefetch" href="/assets/service-container.html-DQbJ-pcD.js" as="script"><link rel="prefetch" href="/assets/service-providers.html-C8MvQbSI.js" as="script"><link rel="prefetch" href="/assets/index.html-7M499xxX.js" as="script"><link rel="prefetch" href="/assets/artisan-console.html-BGfDOkUh.js" as="script"><link rel="prefetch" href="/assets/cache.html-zB5Akhc3.js" as="script"><link rel="prefetch" href="/assets/color.html-D-4Zdf01.js" as="script"><link rel="prefetch" href="/assets/event.html-4_zZdsrf.js" as="script"><link rel="prefetch" href="/assets/filesystem.html-DEdiL0rO.js" as="script"><link rel="prefetch" href="/assets/helpers.html-Ds2T9wtE.js" as="script"><link rel="prefetch" href="/assets/localization.html-CVXNY6F1.js" as="script"><link rel="prefetch" href="/assets/mail.html-ChWosWVb.js" as="script"><link rel="prefetch" href="/assets/package-development.html-DAHJqHcj.js" as="script"><link rel="prefetch" href="/assets/queues.html-B9PtsL0d.js" as="script"><link rel="prefetch" href="/assets/strings.html-Dj4f2ybx.js" as="script"><link rel="prefetch" href="/assets/task-scheduling.html-Bz29zGxN.js" as="script"><link rel="prefetch" href="/assets/index.html-G8pLiFHu.js" as="script"><link rel="prefetch" href="/assets/compile.html-kJEMlPOe.js" as="script"><link rel="prefetch" href="/assets/configuration.html-KAQ1i_6A.js" as="script"><link rel="prefetch" href="/assets/directory-structure.html-CeFa-6sC.js" as="script"><link rel="prefetch" href="/assets/installation.html-BlJEjmqo.js" as="script"><link rel="prefetch" href="/assets/index.html-BlUbbTqM.js" as="script"><link rel="prefetch" href="/assets/factories.html-BIHNNtGd.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-CKi9Y44L.js" as="script"><link rel="prefetch" href="/assets/migrations.html-DbqhDayq.js" as="script"><link rel="prefetch" href="/assets/relationships.html-9eqF2TxJ.js" as="script"><link rel="prefetch" href="/assets/seeding.html-Bpc8maGM.js" as="script"><link rel="prefetch" href="/assets/contributions.html-CspKBVIh.js" as="script"><link rel="prefetch" href="/assets/packages.html-IG68kN2M.js" as="script"><link rel="prefetch" href="/assets/privacy-policy.html-33RADhrl.js" as="script"><link rel="prefetch" href="/assets/authentication.html-CbcFTDm6.js" as="script"><link rel="prefetch" href="/assets/authorization.html-C_eM19aO.js" as="script"><link rel="prefetch" href="/assets/encryption.html-BheDgvl8.js" as="script"><link rel="prefetch" href="/assets/hashing.html-CCi0fFyu.js" as="script"><link rel="prefetch" href="/assets/index.html-BfWOejBO.js" as="script"><link rel="prefetch" href="/assets/mock.html-Cek2O5Ao.js" as="script"><link rel="prefetch" href="/assets/index.html-BdHU2hhR.js" as="script"><link rel="prefetch" href="/assets/controllers.html-CjqTsb7m.js" as="script"><link rel="prefetch" href="/assets/grpc.html-Ct_KqCD7.js" as="script"><link rel="prefetch" href="/assets/logging.html-DBMsuz6b.js" as="script"><link rel="prefetch" href="/assets/middleware.html-BN1Zsf8e.js" as="script"><link rel="prefetch" href="/assets/request.html-6LPuDT9R.js" as="script"><link rel="prefetch" href="/assets/response.html-BIT_R2Ik.js" as="script"><link rel="prefetch" href="/assets/routing.html-ZuNdSZwP.js" as="script"><link rel="prefetch" href="/assets/session.html-zOkRvL4b.js" as="script"><link rel="prefetch" href="/assets/validation.html-CM37Wd02.js" as="script"><link rel="prefetch" href="/assets/views.html-BiDkLYzh.js" as="script"><link rel="prefetch" href="/assets/history.html-bgYiGJ5w.js" as="script"><link rel="prefetch" href="/assets/v1.1.html-DytZ0Hil.js" as="script"><link rel="prefetch" href="/assets/v1.10.html-BgHHAtPO.js" as="script"><link rel="prefetch" href="/assets/v1.11.html-B-XLHv2r.js" as="script"><link rel="prefetch" href="/assets/v1.12.html-B89ecY0e.js" as="script"><link rel="prefetch" href="/assets/v1.13.html-4gUdH3BV.js" as="script"><link rel="prefetch" href="/assets/v1.14.html-D4SSpMNj.js" as="script"><link rel="prefetch" href="/assets/v1.2.html-B7nZ2eGF.js" as="script"><link rel="prefetch" href="/assets/v1.3.html-CZy9AfN-.js" as="script"><link rel="prefetch" href="/assets/v1.4.html-BXNNKRk3.js" as="script"><link rel="prefetch" href="/assets/v1.5.html-CLpJ57EK.js" as="script"><link rel="prefetch" href="/assets/v1.6.html-B5z59C9f.js" as="script"><link rel="prefetch" href="/assets/v1.7.html-CdTdAyh_.js" as="script"><link rel="prefetch" href="/assets/v1.8.html-Cw0S2Apy.js" as="script"><link rel="prefetch" href="/assets/v1.9.html-DyH9haog.js" as="script"><link rel="prefetch" href="/assets/index.html-Dype2EQ5.js" as="script"><link rel="prefetch" href="/assets/index.html-CB_wsIxP.js" as="script"><link rel="prefetch" href="/assets/facades.html-BwXxk1px.js" as="script"><link rel="prefetch" href="/assets/request-lifecycle.html-BQjzl7rz.js" as="script"><link rel="prefetch" href="/assets/service-container.html-jSmUNwM1.js" as="script"><link rel="prefetch" href="/assets/service-providers.html-Cty8TLme.js" as="script"><link rel="prefetch" href="/assets/index.html-D-7Ikz4X.js" as="script"><link rel="prefetch" href="/assets/artisan-console.html-CUfII-Lv.js" as="script"><link rel="prefetch" href="/assets/cache.html-Bx0hbyxi.js" as="script"><link rel="prefetch" href="/assets/color.html-H6BFzcFP.js" as="script"><link rel="prefetch" href="/assets/event.html-D5fdu4iC.js" as="script"><link rel="prefetch" href="/assets/filesystem.html-bIwQJmNq.js" as="script"><link rel="prefetch" href="/assets/helpers.html-JsCXWVOm.js" as="script"><link rel="prefetch" href="/assets/localization.html-C-AdOpZx.js" as="script"><link rel="prefetch" href="/assets/mail.html-Qoy-JAon.js" as="script"><link rel="prefetch" href="/assets/package-development.html-DaJqaLmb.js" as="script"><link rel="prefetch" href="/assets/queues.html-DK0UjC4s.js" as="script"><link rel="prefetch" href="/assets/strings.html-C43QRlnm.js" as="script"><link rel="prefetch" href="/assets/task-scheduling.html-BH4K-PWN.js" as="script"><link rel="prefetch" href="/assets/index.html-BHRKWYuM.js" as="script"><link rel="prefetch" href="/assets/compile.html-bd8APXxS.js" as="script"><link rel="prefetch" href="/assets/configuration.html-CJ0X6lx8.js" as="script"><link rel="prefetch" href="/assets/directory-structure.html-CEWkxePR.js" as="script"><link rel="prefetch" href="/assets/installation.html-yGCiPfV_.js" as="script"><link rel="prefetch" href="/assets/index.html-B6WufWCW.js" as="script"><link rel="prefetch" href="/assets/factories.html-CD_3RTwM.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-DsRTkK_q.js" as="script"><link rel="prefetch" href="/assets/migrations.html-CZs_5ote.js" as="script"><link rel="prefetch" href="/assets/relationships.html-BbfdR9vl.js" as="script"><link rel="prefetch" href="/assets/seeding.html-cVmJNll6.js" as="script"><link rel="prefetch" href="/assets/contributions.html-CVlZGfZa.js" as="script"><link rel="prefetch" href="/assets/packages.html-CREL2kIs.js" as="script"><link rel="prefetch" href="/assets/authentication.html-Dm8Gakb3.js" as="script"><link rel="prefetch" href="/assets/authorization.html-UI_8uUqI.js" as="script"><link rel="prefetch" href="/assets/encryption.html-DcG-F8zI.js" as="script"><link rel="prefetch" href="/assets/hashing.html-4aAaYfqA.js" as="script"><link rel="prefetch" href="/assets/index.html-CP-I0D5D.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-I2_9Zu8s.js" as="script"><link rel="prefetch" href="/assets/mock.html-BCT7Pm_s.js" as="script"><link rel="prefetch" href="/assets/index.html-D2QytlVw.js" as="script"><link rel="prefetch" href="/assets/controllers.html-BwNicwBj.js" as="script"><link rel="prefetch" href="/assets/grpc.html-_7P4yOz-.js" as="script"><link rel="prefetch" href="/assets/logging.html-CBAfNx_y.js" as="script"><link rel="prefetch" href="/assets/middleware.html-DYrJfYbp.js" as="script"><link rel="prefetch" href="/assets/request.html-COl8P1MT.js" as="script"><link rel="prefetch" href="/assets/response.html-BWScsIWy.js" as="script"><link rel="prefetch" href="/assets/routing.html-CUYcshNu.js" as="script"><link rel="prefetch" href="/assets/session.html-CTYiqdgl.js" as="script"><link rel="prefetch" href="/assets/validation.html-eH8dEU56.js" as="script"><link rel="prefetch" href="/assets/views.html-BdryB8sw.js" as="script"><link rel="prefetch" href="/assets/history.html-DO-eWF43.js" as="script"><link rel="prefetch" href="/assets/v1.1.html-B2vVtnNs.js" as="script"><link rel="prefetch" href="/assets/v1.10.html-Cb3X-HM-.js" as="script"><link rel="prefetch" href="/assets/v1.11.html-BfafEnpK.js" as="script"><link rel="prefetch" href="/assets/v1.12.html-DGxSs_No.js" as="script"><link rel="prefetch" href="/assets/v1.13.html-CGN1zeKt.js" as="script"><link rel="prefetch" href="/assets/v1.14.html-BSi-JM88.js" as="script"><link rel="prefetch" href="/assets/v1.2.html-ircPQw77.js" as="script"><link rel="prefetch" href="/assets/v1.3.html-BdaFRRc0.js" as="script"><link rel="prefetch" href="/assets/v1.4.html-1CHqu-Zr.js" as="script"><link rel="prefetch" href="/assets/v1.5.html-Dj-jgp5m.js" as="script"><link rel="prefetch" href="/assets/v1.6.html-BkzlWSNR.js" as="script"><link rel="prefetch" href="/assets/v1.7.html-BMLpRSkg.js" as="script"><link rel="prefetch" href="/assets/v1.8.html-DfIySVWA.js" as="script"><link rel="prefetch" href="/assets/v1.9.html-DokXNJ9D.js" as="script"><link rel="prefetch" href="/assets/404.html-C2fS8O8v.js" as="script"><link rel="prefetch" href="/assets/SidebarTop-BpXtm-al.js" as="script"><link rel="prefetch" href="/assets/style-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/docsearch-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/index-zMbLkDvU.js" as="script"><link rel="prefetch" href="/assets/giscus--_FS5kYt.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="logo" src="/logo-mini.png" alt="Goravel"><span class="site-name can-hide" aria-hidden="true">Goravel</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--> Home <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://www.youtube.com/playlist?list=PL40Xne4u-oXJ0Z5uFiPWHqIMvzZaG_BDf" rel="noopener noreferrer" target="_blank" aria-label="Video"><!--[--><!--[--><!--]--> Video <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link route-link-active" href="/" aria-label="English"><!--[--><!--[--><!--]--> English <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/testing/getting-started.html" aria-label="简体中文"><!--[--><!--[--><!--]--> 简体中文 <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/goravel/goravel" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--> Home <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://www.youtube.com/playlist?list=PL40Xne4u-oXJ0Z5uFiPWHqIMvzZaG_BDf" rel="noopener noreferrer" target="_blank" aria-label="Video"><!--[--><!--[--><!--]--> Video <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link route-link-active" href="/" aria-label="English"><!--[--><!--[--><!--]--> English <!--[--><!--]--><!--]--></a></li><li class="navbar-dropdown-item"><a class="route-link" href="/zh/testing/getting-started.html" aria-label="简体中文"><!--[--><!--[--><!--]--> 简体中文 <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/goravel/goravel" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--[--><div class="container" style="width:260px;margin:20px auto 0 auto;"><ins class="adsbygoogle" style="display:inline-block;width:260px;height:160px;" data-ad-client="ca-pub-4978322804450032" data-ad-slot="9393443865"></ins></div><!--]--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Prologue <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">Upgrade Guide <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/upgrade/v1.14.html" aria-label="Upgrading To v1.14 From v1.13"><!--[--><!--[--><!--]--> Upgrading To v1.14 From v1.13 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/upgrade/v1.13.html" aria-label="Upgrading To v1.13 From v1.12"><!--[--><!--[--><!--]--> Upgrading To v1.13 From v1.12 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/upgrade/history.html" aria-label="History Upgrade"><!--[--><!--[--><!--]--> History Upgrade <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/prologue/contributions.html" aria-label="Contribution Guide"><!--[--><!--[--><!--]--> Contribution Guide <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/prologue/packages.html" aria-label="Excellent Extend Packages"><!--[--><!--[--><!--]--> Excellent Extend Packages <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Getting Started <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/getting-started/installation.html" aria-label="Installation"><!--[--><!--[--><!--]--> Installation <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/getting-started/configuration.html" aria-label="Configuration"><!--[--><!--[--><!--]--> Configuration <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/getting-started/directory-structure.html" aria-label="Directory Structure"><!--[--><!--[--><!--]--> Directory Structure <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/getting-started/compile.html" aria-label="Compile"><!--[--><!--[--><!--]--> Compile <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Architecutre Concepts <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/architecutre-concepts/request-lifecycle.html" aria-label="Request Lifecycle"><!--[--><!--[--><!--]--> Request Lifecycle <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/architecutre-concepts/service-container.html" aria-label="Service Container"><!--[--><!--[--><!--]--> Service Container <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/architecutre-concepts/service-providers.html" aria-label="Service Providers"><!--[--><!--[--><!--]--> Service Providers <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/architecutre-concepts/facades.html" aria-label="Facades"><!--[--><!--[--><!--]--> Facades <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">The Basics <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/the-basics/routing.html" aria-label="Routing"><!--[--><!--[--><!--]--> Routing <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/middleware.html" aria-label="HTTP Middleware"><!--[--><!--[--><!--]--> HTTP Middleware <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/controllers.html" aria-label="Controllers"><!--[--><!--[--><!--]--> Controllers <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/request.html" aria-label="Requests"><!--[--><!--[--><!--]--> Requests <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/response.html" aria-label="Responses"><!--[--><!--[--><!--]--> Responses <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/views.html" aria-label="Views"><!--[--><!--[--><!--]--> Views <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/grpc.html" aria-label="Grpc"><!--[--><!--[--><!--]--> Grpc <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/session.html" aria-label="Session"><!--[--><!--[--><!--]--> Session <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/validation.html" aria-label="Validation"><!--[--><!--[--><!--]--> Validation <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/the-basics/logging.html" aria-label="Logging"><!--[--><!--[--><!--]--> Logging <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Digging Deeper <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/digging-deeper/artisan-console.html" aria-label="Artisan Console"><!--[--><!--[--><!--]--> Artisan Console <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/cache.html" aria-label="Cache"><!--[--><!--[--><!--]--> Cache <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/event.html" aria-label="Events"><!--[--><!--[--><!--]--> Events <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/filesystem.html" aria-label="File Storage"><!--[--><!--[--><!--]--> File Storage <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/mail.html" aria-label="Mail"><!--[--><!--[--><!--]--> Mail <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/queues.html" aria-label="Queues"><!--[--><!--[--><!--]--> Queues <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/task-scheduling.html" aria-label="Task Scheduling"><!--[--><!--[--><!--]--> Task Scheduling <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/localization.html" aria-label="Localization"><!--[--><!--[--><!--]--> Localization <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/package-development.html" aria-label="Package Development"><!--[--><!--[--><!--]--> Package Development <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/color.html" aria-label="Color"><!--[--><!--[--><!--]--> Color <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/strings.html" aria-label="Strings"><!--[--><!--[--><!--]--> Strings <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/digging-deeper/helpers.html" aria-label="Helpers"><!--[--><!--[--><!--]--> Helpers <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Security <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/security/authentication.html" aria-label="Authentication"><!--[--><!--[--><!--]--> Authentication <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/security/authorization.html" aria-label="Authorization"><!--[--><!--[--><!--]--> Authorization <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/security/encryption.html" aria-label="Encryption"><!--[--><!--[--><!--]--> Encryption <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/security/hashing.html" aria-label="Hashing"><!--[--><!--[--><!--]--> Hashing <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">ORM <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/orm/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--> Getting Started <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/orm/relationships.html" aria-label="Relationships"><!--[--><!--[--><!--]--> Relationships <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/orm/migrations.html" aria-label="Migrations"><!--[--><!--[--><!--]--> Migrations <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/orm/seeding.html" aria-label="Seeding"><!--[--><!--[--><!--]--> Seeding <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/orm/factories.html" aria-label="Factories"><!--[--><!--[--><!--]--> Factories <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Testing <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link route-link-active sidebar-item active" href="/testing/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--> Getting Started <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/testing/mock.html" aria-label="Mock"><!--[--><!--[--><!--]--> Mock <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="getting-started" tabindex="-1"><a class="header-anchor" href="#getting-started"><span>Getting Started</span></a></h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/testing/getting-started.html#introduction" class="router-link-active router-link-exact-active">Introduction</a></li><li><a aria-current="page" href="/testing/getting-started.html#environment" class="router-link-active router-link-exact-active">Environment</a><ul><li><a aria-current="page" href="/testing/getting-started.html#custom-environment-file" class="router-link-active router-link-exact-active">Custom Environment File</a></li><li><a aria-current="page" href="/testing/getting-started.html#testcase-struct" class="router-link-active router-link-exact-active">TestCase Struct</a></li></ul></li><li><a aria-current="page" href="/testing/getting-started.html#creating-tests" class="router-link-active router-link-exact-active">Creating Tests</a></li><li><a aria-current="page" href="/testing/getting-started.html#http-tests" class="router-link-active router-link-exact-active">HTTP Tests</a></li><li><a aria-current="page" href="/testing/getting-started.html#database-testing" class="router-link-active router-link-exact-active">Database Testing</a><ul><li><a aria-current="page" href="/testing/getting-started.html#factories" class="router-link-active router-link-exact-active">Factories</a></li><li><a aria-current="page" href="/testing/getting-started.html#running-seeders" class="router-link-active router-link-exact-active">Running Seeders</a></li><li><a aria-current="page" href="/testing/getting-started.html#using-docker" class="router-link-active router-link-exact-active">Using Docker</a></li></ul></li></ul></nav><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p>The testing function of Goravel relies on Golang&#39;s official test component, extending unit testing to support integration testing and improve application robustness.</p><h2 id="environment" tabindex="-1"><a class="header-anchor" href="#environment"><span>Environment</span></a></h2><h3 id="custom-environment-file" tabindex="-1"><a class="header-anchor" href="#custom-environment-file"><span>Custom Environment File</span></a></h3><p>By default, the <code>.env</code> file in the root directory is used to inject configuration information during testing. If you want to use different <code>.env</code> files for different packages, you can create a <code>.env</code> file in the package directory, and the test will read this file first.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>- /app
- /config
- ...
- /test
  - /feature
    - .env
    - user_test.go
- .env
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In addition, you may create a <code>.env.testing</code> file at the root of your project. This file will be used instead of the <code>.env</code> file when running <code>go test</code> with the <code>--env</code> option, note that this option needs to follow the test directory, for example:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>go <span class="token builtin class-name">test</span> ./<span class="token punctuation">..</span>. <span class="token parameter variable">--env</span><span class="token operator">=</span>.env.testing
go <span class="token builtin class-name">test</span> ./<span class="token punctuation">..</span>. <span class="token parameter variable">-e</span><span class="token operator">=</span>.env.testing
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="testcase-struct" tabindex="-1"><a class="header-anchor" href="#testcase-struct"><span><code>TestCase</code> Struct</span></a></h3><p>There is a <code>TestCase</code> Struct in Goravel, and the Struct will provide some convenient test methods in the future, in addition, there is an <code>init</code> method in the same file, this method guides the registration of the Goravel application before running the test. You may include any necessary logic in this method that needs to be executed before the test.</p><h2 id="creating-tests" tabindex="-1"><a class="header-anchor" href="#creating-tests"><span>Creating Tests</span></a></h2><p>To create a new test case, use the <code>make:test</code> Artisan command:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>go run <span class="token builtin class-name">.</span> artisan make:test feature/UserTest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Our test cases are written using the suite function of the <a href="https://github.com/stretchr/testify" target="_blank" rel="noopener noreferrer">stretchr/testify<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> package by default. This function enables us to configure pre-test, post-test, sub-test, and assertion, among other things, which results in more organized test cases. For further information, kindly refer to the official documentation.</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> feature

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;testing&quot;</span>

  <span class="token string">&quot;github.com/stretchr/testify/suite&quot;</span>

  <span class="token string">&quot;goravel/tests&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> ExampleTestSuite <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  suite<span class="token punctuation">.</span>Suite
  tests<span class="token punctuation">.</span>TestCase
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TestExampleTestSuite</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  suite<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token function">new</span><span class="token punctuation">(</span>ExampleTestSuite<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// SetupTest will run before each test in the suite.</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">SetupTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">// TearDownTest will run after each test in the suite.</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TearDownTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  s<span class="token punctuation">.</span><span class="token function">True</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="http-tests" tabindex="-1"><a class="header-anchor" href="#http-tests"><span>HTTP Tests</span></a></h2><p>Please use third-party packages such as <code>net/http</code> to initiate HTTP requests during testing, in the future, Goravel plans to extend <code>Get</code>, <code>Post</code> and other methods in <code>TestCase</code> Struct to facilitate requests and assertions.</p><h2 id="database-testing" tabindex="-1"><a class="header-anchor" href="#database-testing"><span>Database Testing</span></a></h2><p>Goravel model factories and Seeders can easily create test database records for the application&#39;s model.</p><h3 id="factories" tabindex="-1"><a class="header-anchor" href="#factories"><span>Factories</span></a></h3><p>If you&#39;re conducting tests, it might be necessary to add some records to your database before running the test. You don&#39;t have to manually input the values of each column for the test data creation. With Goravel, you can set default attributes for your models via <a class="route-link" href="/orm/factories.html">factories</a>.</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> user models<span class="token punctuation">.</span>User
err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Orm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>user<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="running-seeders" tabindex="-1"><a class="header-anchor" href="#running-seeders"><span>Running Seeders</span></a></h3><p>If you would like to use <a class="route-link" href="/orm/seeding.html">database seeders</a> to populate your database during a feature test, you may invoke the <code>Seed</code> method. By default, the <code>Seed</code> method will execute the <code>DatabaseSeeder</code>, which should execute all of your other seeders. Alternatively, you can pass a specific seeder struct to the <code>Seed</code> method:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> feature

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;testing&quot;</span>

	<span class="token string">&quot;github.com/stretchr/testify/suite&quot;</span>

	<span class="token string">&quot;goravel/database/seeders&quot;</span>
	<span class="token string">&quot;goravel/tests&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> ExampleTestSuite <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	suite<span class="token punctuation">.</span>Suite
	tests<span class="token punctuation">.</span>TestCase
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TestExampleTestSuite</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	suite<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token function">new</span><span class="token punctuation">(</span>ExampleTestSuite<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// SetupTest will run before each test in the suite.</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">SetupTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">// TearDownTest will run after each test in the suite.</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TearDownTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Run the DatabaseSeeder...</span>
	s<span class="token punctuation">.</span><span class="token function">Seed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// Run multiple specific seeders...</span>
	s<span class="token punctuation">.</span><span class="token function">Seed</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>seeders<span class="token punctuation">.</span>UserSeeder<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>seeders<span class="token punctuation">.</span>PhotoSeeder<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="using-docker" tabindex="-1"><a class="header-anchor" href="#using-docker"><span>Using Docker</span></a></h3><p>When using <code>go test</code>, multiple packages are tested in parallel. As a result, refreshing the database in a test case using a local database can potentially affect other parallel test cases. To address this, Goravel offers Docker-based testing. With Docker, a database image can be created and used independently across different packages.</p><blockquote><p>Due to the limited support of the Docker image for the windows system, currently, the Docker test can only be run in non-windows environments.</p></blockquote><h4 id="initiate-docker" tabindex="-1"><a class="header-anchor" href="#initiate-docker"><span>Initiate Docker</span></a></h4><p>You can use the <code>Database</code> method to initiate a database image based on the default database connection, or you can pass the database connection name to this method to initiate other database images:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>database<span class="token punctuation">,</span> err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Testing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Docker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Database</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
database<span class="token punctuation">,</span> err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Testing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Docker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Database</span><span class="token punctuation">(</span><span class="token string">&quot;postgresql&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>The database images supported by default:</p><table><thead><tr><th>Database</th><th>Image Link</th><th>Version</th></tr></thead><tbody><tr><td>Mysql</td><td><a href="https://hub.docker.com/_/mysql" target="_blank" rel="noopener noreferrer">https://hub.docker.com/_/mysql<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>latest</td></tr><tr><td>Postgres</td><td><a href="https://hub.docker.com/_/postgres" target="_blank" rel="noopener noreferrer">https://hub.docker.com/_/postgres<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>latest</td></tr><tr><td>Sqlserver</td><td><a href="https://hub.docker.com/_/microsoft-mssql-server" target="_blank" rel="noopener noreferrer">https://hub.docker.com/_/microsoft-mssql-server<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>latest</td></tr><tr><td>Sqlite</td><td><a href="https://hub.docker.com/r/nouchka/sqlite3" target="_blank" rel="noopener noreferrer">https://hub.docker.com/r/nouchka/sqlite3<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>latest</td></tr></tbody></table><p>You can also use the <code>Image</code> method to customize the image:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> contractstesting <span class="token string">&quot;github.com/goravel/framework/contracts/testing&quot;</span>

database<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span>contractstesting<span class="token punctuation">.</span>Image<span class="token punctuation">{</span>
  Repository<span class="token punctuation">:</span> <span class="token string">&quot;mysql&quot;</span><span class="token punctuation">,</span>
  Tag<span class="token punctuation">:</span>        <span class="token string">&quot;5.7&quot;</span><span class="token punctuation">,</span>
  Env<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
    <span class="token string">&quot;MYSQL_ROOT_PASSWORD=123123&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;MYSQL_DATABASE=goravel&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ExposedPorts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;3306&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="build-image" tabindex="-1"><a class="header-anchor" href="#build-image"><span>Build Image</span></a></h4><p>After the image is initiated, you can use the <code>Build</code> method to build the image:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>err <span class="token operator">:=</span> database<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>At this time, you can use the <code>docker ps</code> command to see that the image is already running on the system, and you can obtain the configuration information of the database through the <code>Config</code> method to facilitate connection debugging:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>config <span class="token operator">:=</span> database<span class="token punctuation">.</span><span class="token function">Config</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="running-seeders-1" tabindex="-1"><a class="header-anchor" href="#running-seeders-1"><span>Running Seeders</span></a></h4><p>If you wish to use <a class="route-link" href="/orm/seeding.html">seeder</a> to populate the database during testing, you can call the <code>Seed</code> method. By default, the <code>Seed</code> method will execute the <code>DatabaseSeeder</code>, which should execute all of your other seeders. Alternatively, you can pass a specific seeder struct to the <code>Seed</code> method:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>err <span class="token operator">:=</span> database<span class="token punctuation">.</span><span class="token function">Seed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
err <span class="token operator">:=</span> database<span class="token punctuation">.</span><span class="token function">Seed</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>seeders<span class="token punctuation">.</span>UserSeeder<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="refresh-database" tabindex="-1"><a class="header-anchor" href="#refresh-database"><span>Refresh Database</span></a></h4><p>Because the test cases in the same package are executed serially, refreshing the database after a single test case run will have no negative impact, we can use the <code>Fresh</code> method:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>err <span class="token operator">:=</span> database<span class="token punctuation">.</span><span class="token function">Fresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You can also use the <code>RefreshDatabase</code> method:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> feature

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;testing&quot;</span>

	<span class="token string">&quot;github.com/stretchr/testify/suite&quot;</span>

	<span class="token string">&quot;goravel/tests&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> ExampleTestSuite <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	suite<span class="token punctuation">.</span>Suite
	tests<span class="token punctuation">.</span>TestCase
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TestExampleTestSuite</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	suite<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token function">new</span><span class="token punctuation">(</span>ExampleTestSuite<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// SetupTest will run before each test in the suite.</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">SetupTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  s<span class="token punctuation">.</span><span class="token function">RefreshDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// TearDownTest will run after each test in the suite.</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TearDownTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>ExampleTestSuite<span class="token punctuation">)</span> <span class="token function">TestIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="uninstall-image" tabindex="-1"><a class="header-anchor" href="#uninstall-image"><span>Uninstall Image</span></a></h4><p>After the test cases in the sub-package are executed, the image will be uninstalled automatically in one hour, you can also use the <code>Stop</code> method to uninstall the image manually.</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>err <span class="token operator">:=</span> database<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>Example</span></a></h4><p>We can create a <code>TestMain</code> method in the sub-package and add the pre-logic of the test case:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// tests/feature/main_test.go</span>
<span class="token keyword">package</span> feature

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;fmt&quot;</span>
  <span class="token string">&quot;os&quot;</span>
  <span class="token string">&quot;testing&quot;</span>

  <span class="token string">&quot;github.com/goravel/framework/facades&quot;</span>

  <span class="token string">&quot;goravel/database/seeders&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">TestMain</span><span class="token punctuation">(</span>m <span class="token operator">*</span>testing<span class="token punctuation">.</span>M<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  database<span class="token punctuation">,</span> err <span class="token operator">:=</span> facades<span class="token punctuation">.</span><span class="token function">Testing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Docker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Database</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> err <span class="token operator">:=</span> database<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> err <span class="token operator">:=</span> database<span class="token punctuation">.</span><span class="token function">Seed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Execute test cases</span>
  exit <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// Uninstall the image after all test cases have been run</span>
  <span class="token keyword">if</span> err <span class="token operator">:=</span> database<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span>exit<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>For more usage of the TestMain method, see <a href="https://pkg.go.dev/testing#hdr-Main" target="_blank" rel="noopener noreferrer">Official Documentation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></blockquote></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="external-link label" href="https://github.com/goravel/goravel/edit/master/testing/getting-started.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--[--><svg class="icon" viewBox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Coq7p5-_.js" defer></script>
  </body>
</html>
