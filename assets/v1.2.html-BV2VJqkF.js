import{_ as o,c as p,b as n,e as a,f as t,a as c,d as s,r as i,o as u}from"./app-B8FHsz6d.js";const v={},h={class:"table-of-contents"};function m(g,e){const l=i("router-link"),r=i("RouteLink"),d=i("CommentService");return u(),p("div",null,[e[7]||(e[7]=n("h1",{id:"从-v1-1-升级到-v1-2",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#从-v1-1-升级到-v1-2"},[n("span",null,"从 v1.1 升级到 v1.2")])],-1)),n("nav",h,[n("ul",null,[n("li",null,[a(l,{to:"#高影响变化"},{default:t(()=>e[0]||(e[0]=[s("高影响变化")])),_:1})]),n("li",null,[a(l,{to:"#升级指南"},{default:t(()=>e[1]||(e[1]=[s("升级指南")])),_:1}),n("ul",null,[n("li",null,[a(l,{to:"#更新依赖"},{default:t(()=>e[2]||(e[2]=[s("更新依赖")])),_:1})]),n("li",null,[a(l,{to:"#auth-支持-context"},{default:t(()=>e[3]||(e[3]=[s("Auth 支持 Context")])),_:1})])])])])]),e[8]||(e[8]=c(`<h2 id="高影响变化" tabindex="-1"><a class="header-anchor" href="#高影响变化"><span>高影响变化</span></a></h2><ul><li><a href="#%E6%9B%B4%E6%96%B0%E4%BE%9D%E8%B5%96">更新依赖</a></li><li><a href="#auth-support-context">Auth 支持 Context</a></li></ul><h2 id="升级指南" tabindex="-1"><a class="header-anchor" href="#升级指南"><span>升级指南</span></a></h2><p><strong>预计升级时间：1 分钟</strong></p><h3 id="更新依赖" tabindex="-1"><a class="header-anchor" href="#更新依赖"><span>更新依赖</span></a></h3><p><strong>影响可能性：高</strong></p><p><code>go.mod</code> 中更新依赖：</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">github<span class="token punctuation">.</span>com<span class="token operator">/</span>goravel<span class="token operator">/</span>framework v1<span class="token punctuation">.</span><span class="token number">2.1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="auth-支持-context" tabindex="-1"><a class="header-anchor" href="#auth-支持-context"><span>Auth 支持 Context</span></a></h3><p><strong>影响可能性：高</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">// Old</span>
<span class="line">facades.Auth.Parse(token string) error</span>
<span class="line"></span>
<span class="line">// New</span>
<span class="line">facades.Auth.Parse(ctx http.Context, token string) error</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">// Old</span>
<span class="line">facades.Auth.User(ctx http.Context, user interface{}) error</span>
<span class="line"></span>
<span class="line">// New</span>
<span class="line">facades.Auth.User(ctx http.Context, user interface{}) error</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">// Old</span>
<span class="line">facades.Auth.facades.Auth.Login(user interface{}) (token string, err error)</span>
<span class="line"></span>
<span class="line">// New</span>
<span class="line">facades.Auth.facades.Auth.Login(ctx http.Context, user interface{}) (token string, err error)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">// Old</span>
<span class="line">facades.Auth.LoginUsingID(id interface{}) (token string, err error)</span>
<span class="line"></span>
<span class="line">// New</span>
<span class="line">facades.Auth.LoginUsingID(ctx http.Context, id interface{}) (token string, err error)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">// Old</span>
<span class="line">facades.Auth.Refresh() (token string, err error)</span>
<span class="line"></span>
<span class="line">// New</span>
<span class="line">facades.Auth.Refresh(ctx http.Context) (token string, err error)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">// Old</span>
<span class="line">facades.Auth.Logout() error</span>
<span class="line"></span>
<span class="line">// New</span>
<span class="line">facades.Auth.Logout(ctx http.Context) error</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16)),n("p",null,[e[5]||(e[5]=s("For detail ")),a(r,{to:"/zh/security/authentication.html"},{default:t(()=>e[4]||(e[4]=[s("facades.Auth")])),_:1}),e[6]||(e[6]=s("。"))]),a(d)])}const b=o(v,[["render",m],["__file","v1.2.html.vue"]]),f=JSON.parse('{"path":"/zh/upgrade/v1.2.html","title":"从 v1.1 升级到 v1.2","lang":"zh-CN","frontmatter":{"description":"从 v1.1 升级到 v1.2 高影响变化 更新依赖 Auth 支持 Context 升级指南 预计升级时间：1 分钟 更新依赖 影响可能性：高 go.mod 中更新依赖： Auth 支持 Context 影响可能性：高 For detail 。","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://goravel.dev/upgrade/v1.2.html"}],["meta",{"property":"og:url","content":"https://goravel.dev/zh/upgrade/v1.2.html"}],["meta",{"property":"og:site_name","content":"Goravel"}],["meta",{"property":"og:title","content":"/upgrade/v1.2.html"}],["meta",{"property":"og:description","content":"从 v1.1 升级到 v1.2 高影响变化 更新依赖 Auth 支持 Context 升级指南 预计升级时间：1 分钟 更新依赖 影响可能性：高 go.mod 中更新依赖： Auth 支持 Context 影响可能性：高 For detail 。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"从 v1.1 升级到 v1.2\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"高影响变化","slug":"高影响变化","link":"#高影响变化","children":[]},{"level":2,"title":"升级指南","slug":"升级指南","link":"#升级指南","children":[{"level":3,"title":"更新依赖","slug":"更新依赖","link":"#更新依赖","children":[]},{"level":3,"title":"Auth 支持 Context","slug":"auth-支持-context","link":"#auth-支持-context","children":[]}]}],"git":{},"filePathRelative":"zh/upgrade/v1.2.md","autoDesc":true}');export{b as comp,f as data};
