import{_ as i,c as p,b as e,e as s,f as c,a as r,r as a,o as l,d}from"./app-B7vbr0pN.js";const u={},v={class:"table-of-contents"};function h(k,n){const t=a("router-link"),o=a("CommentService");return l(),p("div",null,[n[1]||(n[1]=e("h1",{id:"service-providers",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#service-providers"},[e("span",null,"Service Providers")])],-1)),e("nav",v,[e("ul",null,[e("li",null,[s(t,{to:"#introduction"},{default:c(()=>n[0]||(n[0]=[d("Introduction")])),_:1})])])]),n[2]||(n[2]=r(`<h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p>The most important thing in the kernel boot operation is to load the <code>ServiceProvider</code>. All <code>ServiceProvider</code> under the application are configured in the <code>providers</code> array in <code>config/app.go</code>.</p><p>First, the kernel will call the <code>Register</code> method of all service providers. After all service providers have been registered, the kernel will call the <code>Boot</code> method of all <code>ServiceProvider</code> again.</p><p>The <code>ServiceProvider</code> is the key to the life cycle of Goravel. They enable the framework to contain various components, such as routing, database, queue, cache, etc.</p><p>You can also customize your own provider, it can be stored under <code>app/providers</code> and registered in the <code>providers</code> array in <code>config/app.go</code>.</p><p>The framework comes with a blank service provider <code>app/providers/app_service_provider.go</code> where you can implement simple boot logic. In bigger projects, you have the option to create new service providers for more precise control.</p><p>ServiceProvider provides an optional method <code>Relationship() binding.Relationship</code>, used to declare the dependency relationship of the current ServicerProvider, the ServiceProvider that sets this method will not depend on the registration order, and the ServiceProvider that does not set it will be registered last, for example:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">type</span> ServiceProvider <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>ServiceProvider<span class="token punctuation">)</span> <span class="token function">Relationship</span><span class="token punctuation">(</span><span class="token punctuation">)</span> binding<span class="token punctuation">.</span>Relationship <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">return</span> binding<span class="token punctuation">.</span>Relationship<span class="token punctuation">{</span></span>
<span class="line">		Bindings<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span></span>
<span class="line">			BindingSession<span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		Dependencies<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span></span>
<span class="line">			binding<span class="token punctuation">.</span>Config<span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		ProvideFor<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span></span>
<span class="line">			binding<span class="token punctuation">.</span>Cache<span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>ServiceProvider<span class="token punctuation">)</span> <span class="token function">Register</span><span class="token punctuation">(</span>app foundation<span class="token punctuation">.</span>Application<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>ServiceProvider<span class="token punctuation">)</span> <span class="token function">Boot</span><span class="token punctuation">(</span>app foundation<span class="token punctuation">.</span>Application<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8)),s(o)])}const g=i(u,[["render",h],["__file","service-providers.html.vue"]]),b=JSON.parse('{"path":"/architecture-concepts/service-providers.html","title":"Service Providers","lang":"en-US","frontmatter":{"description":"Service Providers Introduction The most important thing in the kernel boot operation is to load the ServiceProvider. All ServiceProvider under the application are configured in ...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://goravel.dev/zh/architecture-concepts/service-providers.html"}],["meta",{"property":"og:url","content":"https://goravel.dev/architecture-concepts/service-providers.html"}],["meta",{"property":"og:site_name","content":"Goravel"}],["meta",{"property":"og:title","content":"/architecture-concepts/service-providers.html"}],["meta",{"property":"og:description","content":"Service Providers Introduction The most important thing in the kernel boot operation is to load the ServiceProvider. All ServiceProvider under the application are configured in ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Service Providers\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Introduction","slug":"introduction","link":"#introduction","children":[]}],"git":{},"filePathRelative":"architecture-concepts/service-providers.md","autoDesc":true}');export{g as comp,b as data};
