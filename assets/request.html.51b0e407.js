import{_ as i,r as o,o as r,c as u,b as n,d as a,w as t,e,f as l}from"./app.c57080ea.js";const c={},p=n("h1",{id:"http-requests",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#http-requests","aria-hidden":"true"},"#"),e(" HTTP Requests")],-1),d={class:"table-of-contents"},h=e("Introduction"),g=e("Interacting With The Request"),v=e("Retrieving The Request Path"),k=e("Retrieving The Request URL"),m=e("Retrieving The Full Request URL"),f=e("Retrieving The Request Method"),b=e("Request Headers"),q=e("Request IP Address"),_=e("Attach Context"),x=e("Get Context"),R=e("Input"),T=e("Retrieving An Input Value"),F=e("Retrieving Input From The Query String"),y=e("Retrieving Form"),I=e("Form Bind Struct"),w=e("File"),A=e("Retrieving File"),S=e("Save File"),C=e("Abort Request"),U=l(`<h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2><p>The <code>contracts/http/Request</code> method of Goravel can interact with the current HTTP request processed by the application, and get the input and files submitted together.</p><h2 id="interacting-with-the-request" tabindex="-1"><a class="header-anchor" href="#interacting-with-the-request" aria-hidden="true">#</a> Interacting With The Request</h2><p>The <code>request</code> instance is automatically injected into the controller:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/goravel/framework/contracts/http&quot;</span>

facades<span class="token punctuation">.</span>Route<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>request http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="retrieving-the-request-path" tabindex="-1"><a class="header-anchor" href="#retrieving-the-request-path" aria-hidden="true">#</a> Retrieving The Request Path</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>path <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// /users</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="retrieving-the-request-url" tabindex="-1"><a class="header-anchor" href="#retrieving-the-request-url" aria-hidden="true">#</a> Retrieving The Request URL</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>url <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Url</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// /users?name=Goravel</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="retrieving-the-full-request-url" tabindex="-1"><a class="header-anchor" href="#retrieving-the-full-request-url" aria-hidden="true">#</a> Retrieving The Full Request URL</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>url <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">FullUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// http://**/users?name=Goravel</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="retrieving-the-request-method" tabindex="-1"><a class="header-anchor" href="#retrieving-the-request-method" aria-hidden="true">#</a> Retrieving The Request Method</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>method <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="request-headers" tabindex="-1"><a class="header-anchor" href="#request-headers" aria-hidden="true">#</a> Request Headers</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>header <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span>&#39;X<span class="token operator">-</span>Header<span class="token operator">-</span>Name<span class="token char">&#39;, &#39;</span><span class="token keyword">default</span>&#39;<span class="token punctuation">)</span>
headers <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="request-ip-address" tabindex="-1"><a class="header-anchor" href="#request-ip-address" aria-hidden="true">#</a> Request IP Address</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>method <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Ip</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="attach-context" tabindex="-1"><a class="header-anchor" href="#attach-context" aria-hidden="true">#</a> Attach Context</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>request <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">WithContext</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="get-context" tabindex="-1"><a class="header-anchor" href="#get-context" aria-hidden="true">#</a> Get Context</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>ctx <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Context</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="input" tabindex="-1"><a class="header-anchor" href="#input" aria-hidden="true">#</a> Input</h2><h3 id="retrieving-an-input-value" tabindex="-1"><a class="header-anchor" href="#retrieving-an-input-value" aria-hidden="true">#</a> Retrieving An Input Value</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">// /users/:id</span>
id <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Input</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="retrieving-input-from-the-query-string" tabindex="-1"><a class="header-anchor" href="#retrieving-input-from-the-query-string" aria-hidden="true">#</a> Retrieving Input From The Query String</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">// /users?name=goravel</span>
name <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;goravel&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="retrieving-form" tabindex="-1"><a class="header-anchor" href="#retrieving-form" aria-hidden="true">#</a> Retrieving Form</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>name <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Form</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;goravel&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="form-bind-struct" tabindex="-1"><a class="header-anchor" href="#form-bind-struct" aria-hidden="true">#</a> Form Bind Struct</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Name <span class="token builtin">string</span> <span class="token string">\`form:&quot;code&quot; json:&quot;code&quot; binding:&quot;required&quot;\`</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> user User
err <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">Bind</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>user<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="file" tabindex="-1"><a class="header-anchor" href="#file" aria-hidden="true">#</a> File</h2><h3 id="retrieving-file" tabindex="-1"><a class="header-anchor" href="#retrieving-file" aria-hidden="true">#</a> Retrieving File</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="save-file" tabindex="-1"><a class="header-anchor" href="#save-file" aria-hidden="true">#</a> Save File</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span>
file<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token string">&quot;./public&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="abort-request" tabindex="-1"><a class="header-anchor" href="#abort-request" aria-hidden="true">#</a> Abort Request</h3><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>request<span class="token punctuation">.</span><span class="token function">AbortWithStatus</span><span class="token punctuation">(</span><span class="token number">403</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,37);function B(H,P){const s=o("router-link");return r(),u("div",null,[p,n("nav",d,[n("ul",null,[n("li",null,[a(s,{to:"#introduction"},{default:t(()=>[h]),_:1})]),n("li",null,[a(s,{to:"#interacting-with-the-request"},{default:t(()=>[g]),_:1}),n("ul",null,[n("li",null,[a(s,{to:"#retrieving-the-request-path"},{default:t(()=>[v]),_:1})]),n("li",null,[a(s,{to:"#retrieving-the-request-url"},{default:t(()=>[k]),_:1})]),n("li",null,[a(s,{to:"#retrieving-the-full-request-url"},{default:t(()=>[m]),_:1})]),n("li",null,[a(s,{to:"#retrieving-the-request-method"},{default:t(()=>[f]),_:1})]),n("li",null,[a(s,{to:"#request-headers"},{default:t(()=>[b]),_:1})]),n("li",null,[a(s,{to:"#request-ip-address"},{default:t(()=>[q]),_:1})]),n("li",null,[a(s,{to:"#attach-context"},{default:t(()=>[_]),_:1})]),n("li",null,[a(s,{to:"#get-context"},{default:t(()=>[x]),_:1})])])]),n("li",null,[a(s,{to:"#input"},{default:t(()=>[R]),_:1}),n("ul",null,[n("li",null,[a(s,{to:"#retrieving-an-input-value"},{default:t(()=>[T]),_:1})]),n("li",null,[a(s,{to:"#retrieving-input-from-the-query-string"},{default:t(()=>[F]),_:1})]),n("li",null,[a(s,{to:"#retrieving-form"},{default:t(()=>[y]),_:1})]),n("li",null,[a(s,{to:"#form-bind-struct"},{default:t(()=>[I]),_:1})])])]),n("li",null,[a(s,{to:"#file"},{default:t(()=>[w]),_:1}),n("ul",null,[n("li",null,[a(s,{to:"#retrieving-file"},{default:t(()=>[A]),_:1})]),n("li",null,[a(s,{to:"#save-file"},{default:t(()=>[S]),_:1})]),n("li",null,[a(s,{to:"#abort-request"},{default:t(()=>[C]),_:1})])])])])]),U])}const N=i(c,[["render",B],["__file","request.html.vue"]]);export{N as default};
