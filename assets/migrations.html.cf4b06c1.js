import{_ as r,r as s,o,c,b as e,d as t,w as d,e as a,f as l}from"./app.477941e5.js";const _={},u=e("h1",{id:"\u6570\u636E\u5E93\u8FC1\u79FB",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u6570\u636E\u5E93\u8FC1\u79FB","aria-hidden":"true"},"#"),a(" \u6570\u636E\u5E93\u8FC1\u79FB")],-1),m={class:"table-of-contents"},v=a("\u4ECB\u7ECD"),h=a("\u751F\u6210\u8FC1\u79FB"),p=a("\u5FEB\u6377\u751F\u6210"),b=e("h2",{id:"\u4ECB\u7ECD",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u4ECB\u7ECD","aria-hidden":"true"},"#"),a(" \u4ECB\u7ECD")],-1),g=e("p",null,"\u5F53\u591A\u4EBA\u534F\u4F5C\u5F00\u53D1\u5E94\u7528\u7A0B\u5E8F\u65F6\uFF0C\u5982\u679C\u540C\u6B65\u6570\u636E\u5E93\u7ED3\u6784\u6CA1\u6709\u4E00\u4E2A\u7EDF\u4E00\u7684\u89C4\u8303\uFF0C\u4EE5\u4FDD\u8BC1\u6240\u6709\u4EBA\u7684\u672C\u5730\u6570\u636E\u90FD\u662F\u4E00\u81F4\u7684\uFF0C\u90A3\u5C06\u662F\u707E\u96BE\u3002\u6570\u636E\u5E93\u8FC1\u79FB\u5C31\u662F\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u5C06\u6570\u636E\u5E93\u7684\u7ED3\u6784\u8FDB\u884C\u7248\u672C\u63A7\u5236\uFF0C\u4EE5\u4FDD\u8BC1\u6240\u6709\u5F00\u53D1\u4EBA\u5458\u7684\u6570\u636E\u5E93\u7ED3\u6784\u7684\u4E00\u81F4\u6027\u3002",-1),x=a("Goravel \u7684\u6570\u636E\u8FC1\u79FB\u529F\u80FD\u7531\u77E5\u540D\u7684 "),E={href:"https://github.com/golang-migrate/migrate",target:"_blank",rel:"noopener noreferrer"},f=a("golang-migrate/migrate"),L=a(" \u63D0\u4F9B\u652F\u6301\u3002"),N=l(`<h2 id="\u751F\u6210\u8FC1\u79FB" tabindex="-1"><a class="header-anchor" href="#\u751F\u6210\u8FC1\u79FB" aria-hidden="true">#</a> \u751F\u6210\u8FC1\u79FB</h2><p>\u4F7F\u7528 <code>make:migration</code> \u547D\u4EE4\u6765\u521B\u5EFA\u8FC1\u79FB\uFF1A <code>go run . artisan make:migration create_users_table</code></p><p>\u8BE5\u547D\u4EE4\u4F1A\u5728 <code>database/migrations</code> \u76EE\u5F55\u4E0B\u751F\u6210\u8FC1\u79FB\u6587\u4EF6\uFF0C\u6240\u6709\u8FC1\u79FB\u6587\u4EF6\u90FD\u4EE5\u4E00\u4E2A\u65F6\u95F4\u6233\u4E3A\u5F00\u5934\uFF0CGoravel \u5C06\u4EE5\u6B64\u4F5C\u4E3A\u8FC1\u79FB\u6587\u4EF6\u7684\u6267\u884C\u987A\u5E8F\u3002\u6240\u6709\u7684\u8FC1\u79FB\u6587\u4EF6\u90FD\u662F <code>.sql</code> \u6587\u4EF6\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528 SQL \u8BED\u53E5\u81EA\u5B9A\u4E49\u8868\u7ED3\u6784\u3002</p><p>\u8FC1\u79FB\u547D\u4EE4\u4F1A\u540C\u65F6\u751F\u6210\u4E24\u4E2A\u8FC1\u79FB\u6587\u4EF6\uFF1A<code>***.up.sql</code>\u3001<code>***.down.sql</code>\uFF0C\u5206\u522B\u5BF9\u5E94\u6267\u884C\u3001\u56DE\u6EDA\u3002\uFF08\u56DE\u6EDA\u529F\u80FD\u5F85\u672A\u6765\u7248\u672C\u652F\u6301\uFF09</p><h2 id="\u5FEB\u6377\u751F\u6210" tabindex="-1"><a class="header-anchor" href="#\u5FEB\u6377\u751F\u6210" aria-hidden="true">#</a> \u5FEB\u6377\u751F\u6210</h2><p>\u4F7F\u7528 <code>craete_users_table</code> \u5C06\u4F1A\u81EA\u52A8\u751F\u6210\u5305\u542B <code>users</code> \u57FA\u7840\u7ED3\u6784\u7684\u8868\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>CREATE TABLE users (
  id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  created_at datetime(3) DEFAULT NULL,
  updated_at datetime(3) DEFAULT NULL,
  PRIMARY KEY (id),
  KEY idx_users_created_at (created_at),
  KEY idx_users_updated_at (updated_at)
) ENGINE = InnoDB AUTO_INCREMENT = 1 DEFAULT CHARSET = DummyDatabaseCharset;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B9E\u73B0\u539F\u7406\u662F\u6839\u636E\u6B63\u5219\u8FDB\u884C\u5339\u914D\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>^create_(\\w+)_table$
^create_(\\w+)$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528 <code>add_avatar_to_users_table</code> \u5C06\u4F1A\u81EA\u52A8\u751F\u6210\u5411 <code>users</code> \u8868\u589E\u52A0\u5B57\u6BB5\u7684\u7ED3\u6784\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ALTER TABLE users ADD column varchar(255) COMMENT &#39;&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5B9E\u73B0\u539F\u7406\u662F\u6839\u636E\u6B63\u5219\u8FDB\u884C\u5339\u914D\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>_(to|from|in)_(\\w+)_table$
_(to|from|in)_(\\w+)$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u672A\u5339\u914D\u5230\u4E0A\u8FF0\u60C5\u51B5\u65F6\uFF0C\u6846\u67B6\u4F1A\u751F\u6210\u4E00\u4E2A\u7A7A\u7684\u8FC1\u79FB\u6587\u4EF6\u3002</p>`,14);function T(A,k){const n=s("router-link"),i=s("ExternalLinkIcon");return o(),c("div",null,[u,e("nav",m,[e("ul",null,[e("li",null,[t(n,{to:"#\u4ECB\u7ECD"},{default:d(()=>[v]),_:1})]),e("li",null,[t(n,{to:"#\u751F\u6210\u8FC1\u79FB"},{default:d(()=>[h]),_:1})]),e("li",null,[t(n,{to:"#\u5FEB\u6377\u751F\u6210"},{default:d(()=>[p]),_:1})])])]),b,g,e("p",null,[x,e("a",E,[f,t(i)]),L]),N])}const D=r(_,[["render",T],["__file","migrations.html.vue"]]);export{D as default};
