import{_ as l,c as u,b as s,e as a,f as t,a as c,r as i,o as r,d as p}from"./app-XZzUGZUQ.js";const d={},k={class:"table-of-contents"};function v(g,n){const e=i("router-link"),o=i("CommentService");return r(),u("div",null,[n[26]||(n[26]=s("h1",{id:"http-requests",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#http-requests"},[s("span",null,"HTTP Requests")])],-1)),s("nav",k,[s("ul",null,[s("li",null,[a(e,{to:"#introduction"},{default:t(()=>n[0]||(n[0]=[p("Introduction")])),_:1})]),s("li",null,[a(e,{to:"#interacting-with-the-request"},{default:t(()=>n[1]||(n[1]=[p("Interacting With The Request")])),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#retrieving-the-request-path"},{default:t(()=>n[2]||(n[2]=[p("Retrieving The Request Path")])),_:1})]),s("li",null,[a(e,{to:"#retrieving-the-request-url"},{default:t(()=>n[3]||(n[3]=[p("Retrieving The Request URL")])),_:1})]),s("li",null,[a(e,{to:"#retrieving-the-request-host"},{default:t(()=>n[4]||(n[4]=[p("Retrieving The Request HOST")])),_:1})]),s("li",null,[a(e,{to:"#retrieving-the-full-request-url"},{default:t(()=>n[5]||(n[5]=[p("Retrieving The Full Request URL")])),_:1})]),s("li",null,[a(e,{to:"#retrieving-the-request-method"},{default:t(()=>n[6]||(n[6]=[p("Retrieving The Request Method")])),_:1})]),s("li",null,[a(e,{to:"#request-headers"},{default:t(()=>n[7]||(n[7]=[p("Request Headers")])),_:1})]),s("li",null,[a(e,{to:"#request-ip-address"},{default:t(()=>n[8]||(n[8]=[p("Request IP Address")])),_:1})])])]),s("li",null,[a(e,{to:"#input"},{default:t(()=>n[9]||(n[9]=[p("Input")])),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#retrieving-all-input-data"},{default:t(()=>n[10]||(n[10]=[p("Retrieving All Input Data")])),_:1})]),s("li",null,[a(e,{to:"#retrieving-a-route-value"},{default:t(()=>n[11]||(n[11]=[p("Retrieving a Route Value")])),_:1})]),s("li",null,[a(e,{to:"#retrieving-input-from-the-query-string"},{default:t(()=>n[12]||(n[12]=[p("Retrieving Input From The Query String")])),_:1})]),s("li",null,[a(e,{to:"#retrieving-an-input-value"},{default:t(()=>n[13]||(n[13]=[p("Retrieving An Input Value")])),_:1})]),s("li",null,[a(e,{to:"#bind-json-form"},{default:t(()=>n[14]||(n[14]=[p("Bind Json/Form")])),_:1})]),s("li",null,[a(e,{to:"#bind-query"},{default:t(()=>n[15]||(n[15]=[p("Bind Query")])),_:1})])])]),s("li",null,[a(e,{to:"#cookie"},{default:t(()=>n[16]||(n[16]=[p("Cookie")])),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#retrieving-a-cookie-value"},{default:t(()=>n[17]||(n[17]=[p("Retrieving a Cookie Value")])),_:1})])])]),s("li",null,[a(e,{to:"#file"},{default:t(()=>n[18]||(n[18]=[p("File")])),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#retrieving-file"},{default:t(()=>n[19]||(n[19]=[p("Retrieving File")])),_:1})]),s("li",null,[a(e,{to:"#save-file"},{default:t(()=>n[20]||(n[20]=[p("Save File")])),_:1})]),s("li",null,[a(e,{to:"#get-origin-request"},{default:t(()=>n[21]||(n[21]=[p("Get Origin Request")])),_:1})]),s("li",null,[a(e,{to:"#attach-data"},{default:t(()=>n[22]||(n[22]=[p("Attach Data")])),_:1})]),s("li",null,[a(e,{to:"#get-data"},{default:t(()=>n[23]||(n[23]=[p("Get Data")])),_:1})]),s("li",null,[a(e,{to:"#get-context"},{default:t(()=>n[24]||(n[24]=[p("Get Context")])),_:1})])])]),s("li",null,[a(e,{to:"#custom-recovery"},{default:t(()=>n[25]||(n[25]=[p("Custom Recovery")])),_:1})])])]),n[27]||(n[27]=c(`<h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p>The <code>contracts/http/Request</code> method of Goravel can interact with the current HTTP request processed by the application, and get the input and files submitted together.</p><h2 id="interacting-with-the-request" tabindex="-1"><a class="header-anchor" href="#interacting-with-the-request"><span>Interacting With The Request</span></a></h2><p>The <code>http.Context</code> instance is automatically injected into the controller:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token string">&quot;github.com/goravel/framework/contracts/http&quot;</span></span>
<span class="line"></span>
<span class="line">facades<span class="token punctuation">.</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>ctx http<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="retrieving-the-request-path" tabindex="-1"><a class="header-anchor" href="#retrieving-the-request-path"><span>Retrieving The Request Path</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">path <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// /users</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="retrieving-the-request-url" tabindex="-1"><a class="header-anchor" href="#retrieving-the-request-url"><span>Retrieving The Request URL</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">url <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Url</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// /users?name=Goravel</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="retrieving-the-request-host" tabindex="-1"><a class="header-anchor" href="#retrieving-the-request-host"><span>Retrieving The Request HOST</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">url <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Host</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="retrieving-the-full-request-url" tabindex="-1"><a class="header-anchor" href="#retrieving-the-full-request-url"><span>Retrieving The Full Request URL</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">url <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">FullUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// http://**/users?name=Goravel</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="retrieving-the-request-method" tabindex="-1"><a class="header-anchor" href="#retrieving-the-request-method"><span>Retrieving The Request Method</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">method <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="request-headers" tabindex="-1"><a class="header-anchor" href="#request-headers"><span>Request Headers</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">header <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;X-Header-Name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span></span>
<span class="line">headers <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="request-ip-address" tabindex="-1"><a class="header-anchor" href="#request-ip-address"><span>Request IP Address</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">ip <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Ip</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="input" tabindex="-1"><a class="header-anchor" href="#input"><span>Input</span></a></h2><h3 id="retrieving-all-input-data" tabindex="-1"><a class="header-anchor" href="#retrieving-all-input-data"><span>Retrieving All Input Data</span></a></h3><p>You may retrieve all of the incoming request&#39;s input data as <code>map[string]any</code> using the <code>All</code> method, which is a collection of <code>json</code>, <code>form</code> and <code>query</code>(priority from front to back).</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">data <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">All</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="retrieving-a-route-value" tabindex="-1"><a class="header-anchor" href="#retrieving-a-route-value"><span>Retrieving a Route Value</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token comment">// /users/{id}</span></span>
<span class="line">id <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">id <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RouteInt</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">id <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RouteInt64</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="retrieving-input-from-the-query-string" tabindex="-1"><a class="header-anchor" href="#retrieving-input-from-the-query-string"><span>Retrieving Input From The Query String</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token comment">// /users?name=goravel</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// /users?id=1</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">QueryInt</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">QueryInt64</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">QueryBool</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// /users?names=goravel1&amp;names=goravel2</span></span>
<span class="line">names <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">QueryArray</span><span class="token punctuation">(</span><span class="token string">&quot;names&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// /users?names[a]=goravel1&amp;names[b]=goravel2</span></span>
<span class="line">names <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">QueryMap</span><span class="token punctuation">(</span><span class="token string">&quot;names&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">queries <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Queries</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Note: Only one-dimensional Json data can be obtained, otherwise it will return empty.</p></blockquote><h3 id="retrieving-an-input-value" tabindex="-1"><a class="header-anchor" href="#retrieving-an-input-value"><span>Retrieving An Input Value</span></a></h3><p>Access all of the user input without worrying about which HTTP verb was used for the request. Retrieve order: <code>json</code>, <code>form</code>.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Input</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Input</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;goravel&quot;</span><span class="token punctuation">)</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">InputInt</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">InputInt64</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">InputBool</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">InputArray</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line">name <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">InputMap</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bind-json-form" tabindex="-1"><a class="header-anchor" href="#bind-json-form"><span>Bind Json/Form</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  Name <span class="token builtin">string</span> <span class="token string">\`form:&quot;code&quot; json:&quot;code&quot;\`</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> user User</span>
<span class="line">err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Bind</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>user<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">var</span> user <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any</span>
<span class="line">err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Bind</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>user<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bind-query" tabindex="-1"><a class="header-anchor" href="#bind-query"><span>Bind Query</span></a></h3><p>Only support bind Query to struct:</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">type</span> Test <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  ID <span class="token builtin">string</span> <span class="token string">\`form:&quot;id&quot;\`</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">var</span> test Test</span>
<span class="line">err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">BindQuery</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>test<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie"><span>Cookie</span></a></h2><h3 id="retrieving-a-cookie-value" tabindex="-1"><a class="header-anchor" href="#retrieving-a-cookie-value"><span>Retrieving a Cookie Value</span></a></h3><p>Goravel provides a simple way to work with <code>cookie</code>. Use the <code>Cookie</code> method on the <code>Request</code> instance to retrieve a <code>cookie</code> value, will return an empty string if the <code>cookie</code> is not present. You can also define a default value in the second argument.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">value <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span></span>
<span class="line">value <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="file" tabindex="-1"><a class="header-anchor" href="#file"><span>File</span></a></h2><h3 id="retrieving-file" tabindex="-1"><a class="header-anchor" href="#retrieving-file"><span>Retrieving File</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">file<span class="token punctuation">,</span> err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="save-file" tabindex="-1"><a class="header-anchor" href="#save-file"><span>Save File</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">file<span class="token punctuation">,</span> err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span></span>
<span class="line">file<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token string">&quot;./public&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="get-origin-request" tabindex="-1"><a class="header-anchor" href="#get-origin-request"><span>Get Origin Request</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">request <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Origin</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="attach-data" tabindex="-1"><a class="header-anchor" href="#attach-data"><span>Attach Data</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">ctx<span class="token punctuation">.</span><span class="token function">WithValue</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Goravel&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="get-data" tabindex="-1"><a class="header-anchor" href="#get-data"><span>Get Data</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">user <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Value</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="get-context" tabindex="-1"><a class="header-anchor" href="#get-context"><span>Get Context</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">ctx <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Context</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="custom-recovery" tabindex="-1"><a class="header-anchor" href="#custom-recovery"><span>Custom Recovery</span></a></h2><p>You can set a custom <code>recovery</code> by calling the <code>Recover</code> method in the <code>app/providers/route_service_provider.go</code> file.</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token comment">// app/providers/route_service_provider.go</span></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>receiver <span class="token operator">*</span>RouteServiceProvider<span class="token punctuation">)</span> <span class="token function">Boot</span><span class="token punctuation">(</span>app foundation<span class="token punctuation">.</span>Application<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// Add HTTP middleware</span></span>
<span class="line">  facades<span class="token punctuation">.</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GlobalMiddleware</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>Kernel<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">Middleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">...</span><span class="token punctuation">)</span></span>
<span class="line">  facades<span class="token punctuation">.</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Recover</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>ctx http<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// or</span></span>
<span class="line">    <span class="token comment">// ctx.Response().String(500, &quot;Internal Server Error&quot;).Abort()</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token operator">...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,57)),a(o)])}const m=l(d,[["render",v],["__file","request.html.vue"]]),q=JSON.parse('{"path":"/the-basics/request.html","title":"HTTP Requests","lang":"en-US","frontmatter":{"description":"HTTP Requests Introduction The contracts/http/Request method of Goravel can interact with the current HTTP request processed by the application, and get the input and files subm...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://goravel.dev/zh/the-basics/request.html"}],["meta",{"property":"og:url","content":"https://goravel.dev/the-basics/request.html"}],["meta",{"property":"og:site_name","content":"Goravel"}],["meta",{"property":"og:title","content":"/the-basics/request.html"}],["meta",{"property":"og:description","content":"HTTP Requests Introduction The contracts/http/Request method of Goravel can interact with the current HTTP request processed by the application, and get the input and files subm..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"HTTP Requests\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Introduction","slug":"introduction","link":"#introduction","children":[]},{"level":2,"title":"Interacting With The Request","slug":"interacting-with-the-request","link":"#interacting-with-the-request","children":[{"level":3,"title":"Retrieving The Request Path","slug":"retrieving-the-request-path","link":"#retrieving-the-request-path","children":[]},{"level":3,"title":"Retrieving The Request URL","slug":"retrieving-the-request-url","link":"#retrieving-the-request-url","children":[]},{"level":3,"title":"Retrieving The Request HOST","slug":"retrieving-the-request-host","link":"#retrieving-the-request-host","children":[]},{"level":3,"title":"Retrieving The Full Request URL","slug":"retrieving-the-full-request-url","link":"#retrieving-the-full-request-url","children":[]},{"level":3,"title":"Retrieving The Request Method","slug":"retrieving-the-request-method","link":"#retrieving-the-request-method","children":[]},{"level":3,"title":"Request Headers","slug":"request-headers","link":"#request-headers","children":[]},{"level":3,"title":"Request IP Address","slug":"request-ip-address","link":"#request-ip-address","children":[]}]},{"level":2,"title":"Input","slug":"input","link":"#input","children":[{"level":3,"title":"Retrieving All Input Data","slug":"retrieving-all-input-data","link":"#retrieving-all-input-data","children":[]},{"level":3,"title":"Retrieving a Route Value","slug":"retrieving-a-route-value","link":"#retrieving-a-route-value","children":[]},{"level":3,"title":"Retrieving Input From The Query String","slug":"retrieving-input-from-the-query-string","link":"#retrieving-input-from-the-query-string","children":[]},{"level":3,"title":"Retrieving An Input Value","slug":"retrieving-an-input-value","link":"#retrieving-an-input-value","children":[]},{"level":3,"title":"Bind Json/Form","slug":"bind-json-form","link":"#bind-json-form","children":[]},{"level":3,"title":"Bind Query","slug":"bind-query","link":"#bind-query","children":[]}]},{"level":2,"title":"Cookie","slug":"cookie","link":"#cookie","children":[{"level":3,"title":"Retrieving a Cookie Value","slug":"retrieving-a-cookie-value","link":"#retrieving-a-cookie-value","children":[]}]},{"level":2,"title":"File","slug":"file","link":"#file","children":[{"level":3,"title":"Retrieving File","slug":"retrieving-file","link":"#retrieving-file","children":[]},{"level":3,"title":"Save File","slug":"save-file","link":"#save-file","children":[]},{"level":3,"title":"Get Origin Request","slug":"get-origin-request","link":"#get-origin-request","children":[]},{"level":3,"title":"Attach Data","slug":"attach-data","link":"#attach-data","children":[]},{"level":3,"title":"Get Data","slug":"get-data","link":"#get-data","children":[]},{"level":3,"title":"Get Context","slug":"get-context","link":"#get-context","children":[]}]},{"level":2,"title":"Custom Recovery","slug":"custom-recovery","link":"#custom-recovery","children":[]}],"git":{},"filePathRelative":"the-basics/request.md","autoDesc":true}');export{m as comp,q as data};
