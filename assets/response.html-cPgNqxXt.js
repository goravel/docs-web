import{_ as c,r as o,o as i,c as l,a as n,b as s,w as t,e as u,d as e}from"./app-szi7K--b.js";const d={},r=n("h1",{id:"响应",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#响应"},[n("span",null,"响应")])],-1),k={class:"table-of-contents"},v=u(`<h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>可以使用 <code>ctx.Response()</code> 在控制其中进行 HTTP 响应。</p><h2 id="字符串" tabindex="-1"><a class="header-anchor" href="#字符串"><span>字符串</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/goravel/framework/contracts/http&quot;</span>

ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;Hello Goravel&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="json" tabindex="-1"><a class="header-anchor" href="#json"><span>JSON</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;github.com/goravel/framework/contracts/http&quot;</span>
<span class="token punctuation">)</span>

ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Json</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> http<span class="token punctuation">.</span>Json<span class="token punctuation">{</span>
  <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Goravel&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Json</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  ID       <span class="token builtin">uint</span> <span class="token string">\`json:&quot;id&quot;\`</span>
  Name     <span class="token builtin">string</span> <span class="token string">\`json:&quot;name&quot;\`</span>
<span class="token punctuation">}</span><span class="token punctuation">{</span>
  Id<span class="token punctuation">:</span>      <span class="token number">1</span><span class="token punctuation">,</span>
  Front<span class="token punctuation">:</span>   <span class="token string">&quot;Goravel&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="自定义返回" tabindex="-1"><a class="header-anchor" href="#自定义返回"><span>自定义返回</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Data</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;text/html; charset=utf-8&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;b&gt;Goravel&lt;/b&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="文件响应" tabindex="-1"><a class="header-anchor" href="#文件响应"><span>文件响应</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;net/http&quot;</span>

ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;./public/logo.png&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="下载文件" tabindex="-1"><a class="header-anchor" href="#下载文件"><span>下载文件</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;net/http&quot;</span>

ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Download</span><span class="token punctuation">(</span><span class="token string">&quot;./public/logo.png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1.png&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="附加-header" tabindex="-1"><a class="header-anchor" href="#附加-header"><span>附加 Header</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/goravel/framework/contracts/http&quot;</span>

ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Content&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Goravel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;Hello Goravel&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie"><span>Cookie</span></a></h2><h3 id="设置-cookie" tabindex="-1"><a class="header-anchor" href="#设置-cookie"><span>设置 Cookie</span></a></h3><p>使用 <code>response</code> 实例中的 <code>Cookie</code> 方法设置 <code>cookie</code>。<code>Cookie</code> 方法接受一个 <code>http.Cookie</code> 实例，允许您设置各种 <code>cookie</code> 选项。</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;time&quot;</span>
  <span class="token string">&quot;github.com/goravel/framework/contracts/http&quot;</span>
<span class="token punctuation">)</span>


ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Cookie</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>Cookie<span class="token punctuation">{</span>
  Name<span class="token punctuation">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>
  Value<span class="token punctuation">:</span> <span class="token string">&quot;Goravel&quot;</span><span class="token punctuation">,</span>
  Path<span class="token punctuation">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
  Domain<span class="token punctuation">:</span> <span class="token string">&quot;goravel.dev&quot;</span><span class="token punctuation">,</span>
  Expires<span class="token punctuation">:</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">24</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Hour<span class="token punctuation">)</span><span class="token punctuation">,</span>
  Secure<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  HttpOnly<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="过期-cookie" tabindex="-1"><a class="header-anchor" href="#过期-cookie"><span>过期 Cookie</span></a></h3><p>使用 <code>WithoutCookie</code> 方法删除 <code>cookie</code>。</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithoutCookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="返回成功" tabindex="-1"><a class="header-anchor" href="#返回成功"><span>返回成功</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Goravel&quot;</span><span class="token punctuation">)</span>
ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Json</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span><span class="token function">Json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Goravel&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="自定义-code" tabindex="-1"><a class="header-anchor" href="#自定义-code"><span>自定义 Code</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Status</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Json</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>Json<span class="token punctuation">{</span>
  <span class="token string">&quot;hello&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Goravel&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="重定向" tabindex="-1"><a class="header-anchor" href="#重定向"><span>重定向</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Redirect</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusMovedPermanently<span class="token punctuation">,</span> <span class="token string">&quot;https://goravel.dev&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="空响应" tabindex="-1"><a class="header-anchor" href="#空响应"><span>空响应</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">NoContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">NoContent</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOk<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="获取响应" tabindex="-1"><a class="header-anchor" href="#获取响应"><span>获取响应</span></a></h2><p>可以获取响应的各种信息，一般用在 HTTP 中间件中：</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>origin <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Origin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>origin</code> 包含以下方法：</p><table><thead><tr><th>方法名</th><th>作用</th></tr></thead><tbody><tr><td>Body</td><td>获取响应数据</td></tr><tr><td>Header</td><td>获取响应 header</td></tr><tr><td>Size</td><td>获取响应大小</td></tr><tr><td>Status</td><td>获取响应状态码</td></tr></tbody></table>`,34);function g(h,m){const a=o("router-link"),p=o("CommentService");return i(),l("div",null,[r,n("nav",k,[n("ul",null,[n("li",null,[s(a,{to:"#简介"},{default:t(()=>[e("简介")]),_:1})]),n("li",null,[s(a,{to:"#字符串"},{default:t(()=>[e("字符串")]),_:1})]),n("li",null,[s(a,{to:"#json"},{default:t(()=>[e("JSON")]),_:1})]),n("li",null,[s(a,{to:"#自定义返回"},{default:t(()=>[e("自定义返回")]),_:1})]),n("li",null,[s(a,{to:"#文件响应"},{default:t(()=>[e("文件响应")]),_:1})]),n("li",null,[s(a,{to:"#下载文件"},{default:t(()=>[e("下载文件")]),_:1})]),n("li",null,[s(a,{to:"#附加-header"},{default:t(()=>[e("附加 Header")]),_:1})]),n("li",null,[s(a,{to:"#cookie"},{default:t(()=>[e("Cookie")]),_:1}),n("ul",null,[n("li",null,[s(a,{to:"#设置-cookie"},{default:t(()=>[e("设置 Cookie")]),_:1})]),n("li",null,[s(a,{to:"#过期-cookie"},{default:t(()=>[e("过期 Cookie")]),_:1})])])]),n("li",null,[s(a,{to:"#返回成功"},{default:t(()=>[e("返回成功")]),_:1})]),n("li",null,[s(a,{to:"#自定义-code"},{default:t(()=>[e("自定义 Code")]),_:1})]),n("li",null,[s(a,{to:"#重定向"},{default:t(()=>[e("重定向")]),_:1})]),n("li",null,[s(a,{to:"#空响应"},{default:t(()=>[e("空响应")]),_:1})]),n("li",null,[s(a,{to:"#获取响应"},{default:t(()=>[e("获取响应")]),_:1})])])]),v,s(p)])}const f=c(d,[["render",g],["__file","response.html.vue"]]),q=JSON.parse('{"path":"/zh/the-basics/response.html","title":"响应","lang":"zh-CN","frontmatter":{"description":"响应 简介 可以使用 ctx.Response() 在控制其中进行 HTTP 响应。 字符串 JSON 自定义返回 文件响应 下载文件 附加 Header Cookie 设置 Cookie 使用 response 实例中的 Cookie 方法设置 cookie。Cookie 方法接受一个 http.Cookie 实例，允许您设置各种 cookie 选项...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://goravel.dev/the-basics/response.html"}],["meta",{"property":"og:url","content":"https://goravel.dev/zh/the-basics/response.html"}],["meta",{"property":"og:site_name","content":"Goravel"}],["meta",{"property":"og:title","content":"/the-basics/response.html"}],["meta",{"property":"og:description","content":"响应 简介 可以使用 ctx.Response() 在控制其中进行 HTTP 响应。 字符串 JSON 自定义返回 文件响应 下载文件 附加 Header Cookie 设置 Cookie 使用 response 实例中的 Cookie 方法设置 cookie。Cookie 方法接受一个 http.Cookie 实例，允许您设置各种 cookie 选项..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"响应\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"字符串","slug":"字符串","link":"#字符串","children":[]},{"level":2,"title":"JSON","slug":"json","link":"#json","children":[]},{"level":2,"title":"自定义返回","slug":"自定义返回","link":"#自定义返回","children":[]},{"level":2,"title":"文件响应","slug":"文件响应","link":"#文件响应","children":[]},{"level":2,"title":"下载文件","slug":"下载文件","link":"#下载文件","children":[]},{"level":2,"title":"附加 Header","slug":"附加-header","link":"#附加-header","children":[]},{"level":2,"title":"Cookie","slug":"cookie","link":"#cookie","children":[{"level":3,"title":"设置 Cookie","slug":"设置-cookie","link":"#设置-cookie","children":[]},{"level":3,"title":"过期 Cookie","slug":"过期-cookie","link":"#过期-cookie","children":[]}]},{"level":2,"title":"返回成功","slug":"返回成功","link":"#返回成功","children":[]},{"level":2,"title":"自定义 Code","slug":"自定义-code","link":"#自定义-code","children":[]},{"level":2,"title":"重定向","slug":"重定向","link":"#重定向","children":[]},{"level":2,"title":"空响应","slug":"空响应","link":"#空响应","children":[]},{"level":2,"title":"获取响应","slug":"获取响应","link":"#获取响应","children":[]}],"git":{},"filePathRelative":"zh/the-basics/response.md","autoDesc":true}');export{f as comp,q as data};
