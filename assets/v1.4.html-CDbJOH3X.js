import{_ as g,c as d,b as t,e as o,f as l,a as s,d as r,r as p,o as u}from"./app-Jnelnv2S.js";const h={},c={class:"table-of-contents"};function v(f,e){const n=p("router-link"),a=p("RouteLink"),i=p("CommentService");return u(),d("div",null,[e[11]||(e[11]=t("h1",{id:"从-v1-3-升级到-v1-4",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#从-v1-3-升级到-v1-4"},[t("span",null,"从 v1.3 升级到 v1.4")])],-1)),t("nav",c,[t("ul",null,[t("li",null,[o(n,{to:"#高影响变化"},{default:l(()=>e[0]||(e[0]=[r("高影响变化")])),_:1})]),t("li",null,[o(n,{to:"#低影响变化"},{default:l(()=>e[1]||(e[1]=[r("低影响变化")])),_:1})]),t("li",null,[o(n,{to:"#升级指南"},{default:l(()=>e[2]||(e[2]=[r("升级指南")])),_:1}),t("ul",null,[t("li",null,[o(n,{to:"#更新依赖"},{default:l(()=>e[3]||(e[3]=[r("更新依赖")])),_:1})]),t("li",null,[o(n,{to:"#优化-grpc-模块"},{default:l(()=>e[4]||(e[4]=[r("优化 Grpc 模块")])),_:1})]),t("li",null,[o(n,{to:"#优化路由注册"},{default:l(()=>e[5]||(e[5]=[r("优化路由注册")])),_:1})]),t("li",null,[o(n,{to:"#http-context-新增方法"},{default:l(()=>e[6]||(e[6]=[r("http.Context 新增方法")])),_:1})]),t("li",null,[o(n,{to:"#request-新增方法"},{default:l(()=>e[7]||(e[7]=[r("Request 新增方法")])),_:1})])])])])]),e[12]||(e[12]=s(`<h2 id="高影响变化" tabindex="-1"><a class="header-anchor" href="#高影响变化"><span>高影响变化</span></a></h2><ul><li><a href="#%E4%BC%98%E5%8C%96-grpc-%E6%A8%A1%E5%9D%97">优化 Grpc 模块</a></li><li><a href="#%E4%BC%98%E5%8C%96%E8%B7%AF%E7%94%B1%E6%B3%A8%E5%86%8C">优化路由注册</a></li></ul><h2 id="低影响变化" tabindex="-1"><a class="header-anchor" href="#低影响变化"><span>低影响变化</span></a></h2><ul><li><a href="#http-context-%E6%96%B0%E5%A2%9E%E6%96%B9%E6%B3%95">http.Context 新增方法</a></li><li><a href="#request-%E6%96%B0%E5%A2%9E%E6%96%B9%E6%B3%95">Request 新增方法</a></li></ul><h2 id="升级指南" tabindex="-1"><a class="header-anchor" href="#升级指南"><span>升级指南</span></a></h2><p><strong>预计升级时间：1 分钟</strong></p><h3 id="更新依赖" tabindex="-1"><a class="header-anchor" href="#更新依赖"><span>更新依赖</span></a></h3><p><strong>影响可能性：高</strong></p><p><code>go.mod</code> 中更新依赖：</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line">github<span class="token punctuation">.</span>com<span class="token operator">/</span>goravel<span class="token operator">/</span>framework v1<span class="token punctuation">.</span><span class="token number">4.0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="优化-grpc-模块" tabindex="-1"><a class="header-anchor" href="#优化-grpc-模块"><span>优化 Grpc 模块</span></a></h3><p><strong>影响可能性：高</strong></p><ol><li>新增 <a href="https://github.com/goravel/goravel/blob/v1.4.0/app/grpc/kernel.go" target="_blank" rel="noopener noreferrer">app/grpc/kernel.go</a> 文件；</li><li>新增 <a href="https://github.com/goravel/goravel/tree/v1.4.0/app/grpc/interceptors" target="_blank" rel="noopener noreferrer">app/grpc/interceptors</a> 目录；</li><li>新增 <a href="https://github.com/goravel/goravel/blob/v1.4.0/config/grpc.go" target="_blank" rel="noopener noreferrer">config/grpc.go</a> 文件；</li><li>新增 <a href="https://github.com/goravel/goravel/blob/v1.4.0/routes/grpc.go" target="_blank" rel="noopener noreferrer">routes/grpc.go</a> 文件；</li><li><a href="https://github.com/goravel/goravel/blob/v1.4.0/app/providers/grpc_service_provider.go" target="_blank" rel="noopener noreferrer">app/providers/grpc_service_provider.go</a> 新增注册拦截器逻辑；</li><li><a href="https://github.com/goravel/goravel/blob/v1.4.0/config/app.go" target="_blank" rel="noopener noreferrer">config/app.go</a> 文件删除 <code>grpc_host</code> 键值；</li></ol>`,13)),t("p",null,[o(a,{to:"/zh/the-basics/grpc.html"},{default:l(()=>e[8]||(e[8]=[r("查看文档")])),_:1})]),e[13]||(e[13]=s('<h3 id="优化路由注册" tabindex="-1"><a class="header-anchor" href="#优化路由注册"><span>优化路由注册</span></a></h3><p><strong>影响可能性：高</strong></p><p><a href="https://github.com/goravel/goravel/blob/v1.4.0/app/providers/route_service_provider.go" target="_blank" rel="noopener noreferrer">app/providers/route_service_provider.go</a> 文件中，将 <code>routes.Web()</code> 由 <code>Register()</code> 移动到 <code>Boot()</code>。</p><h3 id="http-context-新增方法" tabindex="-1"><a class="header-anchor" href="#http-context-新增方法"><span>http.Context 新增方法</span></a></h3><p><strong>影响可能性：低</strong></p><p>新增 <code>ctx.Context()</code> 方法。</p>',6)),t("p",null,[o(a,{to:"/zh/the-basics/request.html#%E8%8E%B7%E5%8F%96-context"},{default:l(()=>e[9]||(e[9]=[r("查看文档")])),_:1})]),e[14]||(e[14]=t("h3",{id:"request-新增方法",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#request-新增方法"},[t("span",null,"Request 新增方法")])],-1)),e[15]||(e[15]=t("p",null,[t("strong",null,"影响可能性：低")],-1)),e[16]||(e[16]=t("p",null,[r("新增 "),t("code",null,"ctx.Request().AbortWithStatusJson"),r(" 方法。")],-1)),t("p",null,[o(a,{to:"/zh/the-basics/request.html#%E4%B8%AD%E6%96%AD%E8%AF%B7%E6%B1%82"},{default:l(()=>e[10]||(e[10]=[r("查看文档")])),_:1})]),o(i)])}const b=g(h,[["render",v],["__file","v1.4.html.vue"]]),k=JSON.parse('{"path":"/zh/upgrade/v1.4.html","title":"从 v1.3 升级到 v1.4","lang":"zh-CN","frontmatter":{"description":"从 v1.3 升级到 v1.4 高影响变化 优化 Grpc 模块 优化路由注册 低影响变化 http.Context 新增方法 Request 新增方法 升级指南 预计升级时间：1 分钟 更新依赖 影响可能性：高 go.mod 中更新依赖： 优化 Grpc 模块 影响可能性：高 新增 app/grpc/kernel.go 文件； 新增 app/grpc...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://goravel.dev/upgrade/v1.4.html"}],["meta",{"property":"og:url","content":"https://goravel.dev/zh/upgrade/v1.4.html"}],["meta",{"property":"og:site_name","content":"Goravel"}],["meta",{"property":"og:title","content":"/upgrade/v1.4.html"}],["meta",{"property":"og:description","content":"从 v1.3 升级到 v1.4 高影响变化 优化 Grpc 模块 优化路由注册 低影响变化 http.Context 新增方法 Request 新增方法 升级指南 预计升级时间：1 分钟 更新依赖 影响可能性：高 go.mod 中更新依赖： 优化 Grpc 模块 影响可能性：高 新增 app/grpc/kernel.go 文件； 新增 app/grpc..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"从 v1.3 升级到 v1.4\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"高影响变化","slug":"高影响变化","link":"#高影响变化","children":[]},{"level":2,"title":"低影响变化","slug":"低影响变化","link":"#低影响变化","children":[]},{"level":2,"title":"升级指南","slug":"升级指南","link":"#升级指南","children":[{"level":3,"title":"更新依赖","slug":"更新依赖","link":"#更新依赖","children":[]},{"level":3,"title":"优化 Grpc 模块","slug":"优化-grpc-模块","link":"#优化-grpc-模块","children":[]},{"level":3,"title":"优化路由注册","slug":"优化路由注册","link":"#优化路由注册","children":[]},{"level":3,"title":"http.Context 新增方法","slug":"http-context-新增方法","link":"#http-context-新增方法","children":[]},{"level":3,"title":"Request 新增方法","slug":"request-新增方法","link":"#request-新增方法","children":[]}]}],"git":{},"filePathRelative":"zh/upgrade/v1.4.md","autoDesc":true}');export{b as comp,k as data};
